{"version":3,"sources":["webpack:///./src/util/share.js","webpack:///src/page/feed/feedDetail.vue","webpack:///./src/page/feed/feedDetail.vue?bc97","webpack:///./src/page/feed/feedDetail.vue","webpack:///src/page/article/ArticleCard.vue","webpack:///./src/page/article/ArticleCard.vue?eb37","webpack:///./src/page/article/ArticleCard.vue","webpack:///src/page/article/ArticleComment.vue","webpack:///./src/page/article/ArticleComment.vue?71dd","webpack:///./src/page/article/ArticleComment.vue","webpack:///src/page/feed/feed.vue","webpack:///./src/page/feed/feed.vue?9440","webpack:///./src/page/feed/feed.vue","webpack:///./node_modules/weixin-js-sdk/index.js","webpack:///./node_modules/headroom.js/dist/headroom.js"],"names":["share_getOauth","url","Promise","resolove","reject","http","post","validateStatus","s","then","_ref","data","catch","Error","share","getOauth","feedDetail","ArticleCard","CommentItem","ArticleComment","feedID","CURRENTUSER","user","this","feed","id","val","has_like","images","$http","defaults","baseURL","file","isWechat","replace","reg","link","concat","_this","get","_ref$data","feed_content","fetchFeedComments","fetchRewards","getWeChatConfig","back","_this2","after","_ref2","_ref2$data","pinneds","length","pinnedCom","toConsumableArray_default","comments","maxComId","noMoreCom","_this3","_ref3","_ref3$data","_this4","liked","method","likeCount","likes","getTime","filter","like","_this5","text","_this6","isMine","_this7","fullPath","appid","timestamp","signature","noncestr","appList","title","desc","firstImage","shareSuccess","shareCancel","weixin_js_sdk_default","a","error","_this8","bus","$emit","uname","_this9","body","replyUser","params","_this10","oldID","fetchFeed","setTimeout","render","_vm","_h","$createElement","_c","_self","attrs","loading","on","on-like","likeFeed","on-share","shareFeed","on-more","moreAction","on-comment","commentFeed","staticClass","slot","click","goBack","xmlns:xlink","xlink:href","src","avatar","_l","img","key","scopedSlots","_u","fn","props","_e","_v","domProps","innerHTML","_s","replaceURI","feedContent","slice","ref","index","class","style","zIndex","_f","time","feed_view_count","rewardFeed","href","reward","count","rew","commentCount","comment","pinned","on-click","replyComment","$event","stopPropagation","fetchComing","staticRenderFns","__vue_template_functional__","__vue_styles__","__vue_scopeId__","__vue_module_identifier__","Component","Object","component_normalizer","__webpack_exports__","Boolean","init","_t","goback","preventDefault","handelLike","handelComment","handelShare","handelMore","strLength","str","charCode","i","totalLength","showAll","reply","isShowAll","name","maxh","handelClick","to","directives","rawName","value","bodyLength","expression","types","FeedCard","FootGuide","type","beforeRefresh","onRefresh","_onRefresh","asyncToGenerator_default","feed_type","onLoadMore","maxId","ad","feeds","_ref4","tag","active-class","exact","injectStyle","context","__webpack_require__","e","n","module","exports","window","t","WeixinJSBridge","invoke","o","c","u","trigger","appId","C","verifyAppId","verifySignType","verifyTimestamp","verifyNonceStr","nonceStr","verifySignature","r","timeStamp","package","paySign","signType","postalCode","addressPostalCode","provinceName","proviceFirstStageName","cityName","addressCitySecondStageName","countryName","addressCountiesThirdStageName","detailInfo","addressDetailInfo","errCode","err_code","err_desc","err_detail","errMsg","err_msg","_complete","debug","isInnerInvoke","alert","JSON","stringify","indexOf","substring","success","cancel","fail","complete","v","toLowerCase","d","h","console","log","l","w","T","x","A","systemType","Image","initTime","V","initEndTime","initStartTime","preVerifyTime","preVerifyEndTime","preVerifyStartTime","N","getNetworkType","networkType","version","isPreVerifyOk","clientVersion","p","Date","f","k","I","__wxjsjs__isPreInject","addEventListener","m","g","split","jWeixin","config","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone","previewImage","getLocation","openProductSpecificView","addCard","openCard","chooseWXPay","openEnterpriseRedPacket","startSearchBeacons","stopSearchBeacons","onSearchBeacons","consumeAndShareCard","openAddress","document","S","y","navigator","userAgent","_","platform","match","M","P","encodeURIComponent","location","L","_completes","B","state","E","O","check","verifyJsApiList","jsApiList","_fail","push","ready","checkJsApi","checkResult","parse","img_url","imgUrl","data_url","dataUrl","startRecord","stopRecord","onVoiceRecordEnd","playVoice","localId","pauseVoice","stopVoice","onVoicePlayEnd","uploadVoice","isShowProgressTips","downloadVoice","serverId","translateVoice","chooseImage","scene","sizeType","sourceType","localIds","current","urls","uploadImage","downloadImage","getLocalImgData","shift","wx","subtype","openLocation","latitude","longitude","address","scale","infoUrl","hideOptionMenu","showOptionMenu","closeWindow","hideMenuItems","menuList","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","scanQRCode","needResult","scanType","resultStr","scan_code","scan_result","pid","productId","view_type","viewType","ext_info","extInfo","cardList","card_id","cardId","card_ext","cardExt","card_list","isSuccess","is_succ","chooseCard","app_id","location_id","shopId","sign_type","card_type","cardType","card_sign","cardSign","time_stamp","nonce_str","choose_card_info","code","consumedCardId","consumedCode","ticket","openEnterpriseChat","useridlist","userIds","chatname","groupName","launchMiniProgram","targetAppId","path","envVersion","miniProgram","navigateBack","arg","delta","navigateTo","redirectTo","switchTab","reLaunch","postMessage","getEnv","miniprogram","__wxjs_environment","b","R","target","tagName","localData","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","root","factory","apply","undefined","features","bind","classList","documentElement","rAF","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","Debouncer","callback","ticking","isDOMElement","obj","nodeType","extend","object","arguments","result","replacement","normalizeTolerance","down","up","Headroom","elem","options","lastKnownScrollY","tolerance","classes","offset","scroller","initialised","onPin","onUnpin","onTop","onNotTop","onBottom","onNotBottom","prototype","constructor","update","requestTick","rafCallback","handleEvent","cutsTheMustard","debouncer","add","initial","attachEvent","destroy","hasOwnProperty","remove","removeEventListener","getScrollY","unpin","contains","unpinned","call","pin","top","notTop","bottom","notBottom","pageYOffset","scrollTop","parentNode","getViewportHeight","innerHeight","clientHeight","getElementPhysicalHeight","elm","Math","max","offsetHeight","getScrollerPhysicalHeight","getDocumentHeight","scrollHeight","getElementHeight","getScrollerHeight","isOutOfBounds","currentScrollY","pastTop","pastBottom","toleranceExceeded","direction","abs","shouldUnpin","scrollingDown","pastOffset","shouldPin","scrollingUp","scrollDirection"],"mappings":"+MAGMA,EAAW,SAAAC,GACf,OAAO,IAAIC,QAAQ,SAACC,EAAUC,GAC5BC,EAAA,KACGC,KACC,sBAEEL,QAGAM,eAAgB,SAAAC,GAAA,OAAW,MAANA,KAGxBC,KAAK,SAAAC,GAAc,IAAXC,EAAWD,EAAXC,KACPR,EAASQ,KAEVC,MAAM,WACLR,EAAO,IAAIS,YAKnBC,GACEC,SAAAf,2BCsFFgB,QAEA,0BAEAC,cAAA,KAEAC,YAAAC,EAAA,mCAGA,mBAEA,YAEA,sDAKA,aACA,WACA,gBAEA,aACA,aACA,YAEA,aAEA,mBACA,gBACA,wBAEA,oCAEA,QACA,QAGA,4DAIAC,wDAGAC,6BAEA,IAAAC,EAAAC,KACAC,KAAAF,4GAIAG,sFAOAC,4CAKAC,6CAGAD,2DAKA,0CAGAA,sEAKA,gDAGAA,+IAUA,0DAGA,qCAIAE,0BAEA,kBAGA,OAAAL,KAAAM,MAAAC,SAAAC,QAAA,UAAAC,OAEA,qEAGAC,iDAKA,6FAEAC,QACAC,EAAA,SAAAC,GACA,sCAAAC,OAEAD,EAAA,mCACA,kDAGA,sDAGA,8BAEA,IAAAE,EAAAf,oCAEA,OACAM,MAAAU,IAAA,UAAAF,OAAAd,KACAH,SAAAX,KAAA,SAAAC,GACA,IAAA8B,EAAA9B,EAAAC,8BACAA,4BACA,qBACA8B,uBACArB,mBACA,IACAsB,sBACAC,6BAEAC,oBAEAhC,MAAA,qBAEAiC,wCAGA,IAAAC,EAAAvB,qGAEA,OACAM,MAAAU,IAAA,UAAAF,OAAAd,KAAAH,OAAA,sBAKA2B,WAJAtC,KAAA,SAAAuC,GAKA,IAAAC,EAAAD,EAAArC,kEACAuC,KACAC,SAAAL,EAAAM,UAAAL,EAAAM,IAAAP,EAAAI,SAAAb,OAAAgB,IAAAH,IACAA,QACAC,QAAAL,EAAAQ,SACAP,EAAAM,IAAAP,EAAAQ,UAAAjB,OAAAgB,IACAC,IACAA,EAAAR,EAAAS,SAAAD,IAAAH,OAAA,GACA1B,IAAAqB,EAAAU,WACA,wCAEA,aACA,MAEA5C,MAAA,sBAEA,iBACA,8BAGA,IAAA6C,EAAAlC,UACAM,MAAAU,IAAA,UAAAF,OAAAd,KAAAH,OAAA,2BAGA,MAFAX,KAAA,SAAAiD,GAGA,IAAAC,EAAAD,EAAA/C,mCACAA,gBACAA,2DAIAS,6BAEA,IAAAwC,EAAArC,2BACA,cACAsC,MAAA,UAAAxB,OAAAd,KACAH,OAAA,qBAAAiB,OAAAd,KACAH,OAAA,wCAEA,cAEA0C,SACA7D,iDAEA,WAJAQ,KAAA,WAMA,YAAAmD,EAAAC,OACA,EAAAD,EAAAG,WACA,EAAAH,EAAAI,MAAAb,OACA,IAAAS,EACAI,MAAAX,IAAAO,EACAI,OAAA3B,gBAEAhB,0BACA4C,gCAGAxC,SALAmC,EAAAC,OAMA,EAAAD,EAAAG,WACA,EAAAH,EAAAI,MAAAJ,EAAAI,MAAAE,OAAA,SAAAC,oCAEA1C,kBAGA,IACAb,MAAA,uBAEA,6BAGA,IAAAwD,EAAA7C,uEAGA8C,iEAMA,qCAIA,qCAEA,IAAAC,EAAA/C,cAGA,mCAEA,gBAKAgD,cAGA,2CAEA,wBAIA,uCAEA,4BAMA,uCAEA,0DAIA,kCAEA,IAAAC,EAAAjD,0CACAkD,yBACAxE,wFAGA,mCACA,2BACA,iCACA,sBAEA,iBACAyE,yBACAC,6BACAC,4BACAC,qBAEAC,iGAMAC,mBACAC,kBACA5C,cACA6C,gCAEAC,oCAGAC,0DAIAJ,mBACAC,kBACA5C,cACA6C,gCAEAC,oCAGAC,kDAIAJ,mBACAC,kBACA5C,cACA6C,gCAEAC,oCAGAC,0CAKA,kCAEA,oBACAT,4BACAC,gCACAC,+BACAC,wBAGAC,kCACAM,EAAAC,EAAAC,MAAA,wDAKAP,sBACAC,qBACA5C,iBACA6C,gCAEAC,oCAGAC,6DAIAJ,sBACAC,qBACA5C,iBACA6C,gCAEAC,oCAGAC,qDAIAJ,sBACAC,qBACA5C,iBACA6C,gCAEAC,oCAGAC,8CAKA,IAAAI,EAAAhE,0BACAE,GAAA+D,EAAA,KACAC,MACA,qBAGA,2CAEA,wBAIA,yCAEA,qBAKA,MAAAD,EAAA,KAAAC,MAAA,0CAEAC,qDAEArB,gCAIA,IAAAsB,EAAApE,wDAGAqE,sBACAC,QACAhE,MAAAvB,KAAA,UAAA+B,OAAAd,KAAAH,OAAA,aAAA0E,qCAGA,WAFArF,KAAA,8BAIA,2CACA,KACAG,MAAA,4BAEA,2CACA,0BAGA,mCAIA,IAAAmF,EAAAxE,sCAEAyE,MAAAzE,KACA0E,YAAAC,WAAA,sBAEA,GACA,4CAIA,oBAEA,QACA,QAEA,uBAEA,aACA,WACA,aAEA,MC5jBAC,EAAA,WAA0B,IAAAC,EAAA7E,KAAa8E,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,gBAA0BE,OAAO5C,MAAAuC,EAAAvC,MAAA6C,QAAAN,EAAAM,SAAwCC,IAAKC,UAAAR,EAAAS,SAAAC,WAAAV,EAAAW,UAAAC,UAAAZ,EAAAa,WAAAC,aAAAd,EAAAe,eAAuGZ,EAAA,UAAea,YAAA,mCAAAX,OAAsDY,KAAA,QAAcA,KAAA,SAAad,EAAA,OAAYa,YAAA,iDAA2Db,EAAA,OAAYa,YAAA,wBAAAT,IAAwCW,MAAAlB,EAAAmB,UAAoBhB,EAAA,OAAYE,OAAOe,cAAA,+BAAAC,aAAA,oBAAwElB,EAAA,OAAgBa,YAAA,wEAAkFb,EAAA,OAAYa,YAAA,uBAAiCb,EAAA,OAAYE,OAAOiB,IAAAtB,EAAA9E,KAAAqG,cAAuBpB,EAAA,OAAgBa,YAAA,+DAAyEb,EAAA,OAAYa,YAAA,0BAAoCb,EAAA,OAAYE,OAAOe,cAAA,+BAAAC,aAAA,uBAAyElB,EAAA,QAAmBa,YAAA,6CAAuDb,EAAA,OAAYa,YAAA,eAAyBhB,EAAAwB,GAAAxB,EAAA,gBAAAyB,GAAoC,OAAAA,EAAA,KAAAtB,EAAA,cAAmCuB,IAAAD,EAAA7F,KAAAyE,OAAoBzE,KAAA6F,EAAA7F,MAAgB+F,YAAA3B,EAAA4B,KAAsBF,IAAA,UAAAG,GAAA,SAAAC,GAAiC,OAAAA,EAAA,IAAA3B,EAAA,OAA6BE,OAAOiB,IAAAQ,EAAAR,OAAiBtB,EAAA+B,WAAe/B,EAAAgC,GAAA,sBAAAhC,EAAA+B,OAAwC5B,EAAA,KAAUa,YAAA,aAAAiB,UAAmCC,UAAAlC,EAAAmC,GAAAnC,EAAAoC,WAAApC,EAAAqC,kBAAqD,GAAAlC,EAAA,OAAgBa,YAAA,gDAA0Db,EAAA,OAAYa,YAAA,mEAA6EhB,EAAArC,UAAA,GAAAwC,EAAA,MAAgCa,YAAA,qCAAgDhB,EAAAwB,GAAAxB,EAAApC,MAAA0E,MAAA,cAAAC,EAAAC,GACxsD,IAAAtH,EAAAqH,EAAArH,UAAoB,IAAAA,UACpB,IAAAG,EAAAkH,EAAAlH,GACA,OAAA8E,EAAA,MAAgBuB,IAAArG,EAAA2F,YAAA,oBAAAyB,MAAA,gBAAAvH,EAAA,IAAAwH,OAAoFC,OAAA,EAAAH,KAAoBrC,EAAA,OAAYE,OAAOiB,IAAApG,EAAAqG,eAAuBpB,EAAA,QAAAH,EAAAgC,GAAAhC,EAAAmC,GAAAnC,EAAA4C,GAAA,YAAA5C,GAAArC,YAAA,UAAAqC,EAAA+B,MAAA,GAAA5B,EAAA,OAAiGa,YAAA,qCAA+Cb,EAAA,QAAAH,EAAAgC,GAAA,MAAAhC,EAAAmC,GAAAnC,EAAA4C,GAAA,YAAA5C,GAAA6C,UAAA1C,EAAA,QAAAH,EAAAgC,GAAAhC,EAAAmC,GAAAnC,EAAA4C,GAAA,YAAA5C,GAAA5E,KAAA0H,iBAAA,gBAAA3C,EAAA,OAAsKa,YAAA,yDAAmEb,EAAA,UAAea,YAAA,gBAAAT,IAAgCW,MAAAlB,EAAA+C,cAAwB/C,EAAAgC,GAAA,SAAA7B,EAAA,KAA0Ba,YAAA,oBAA8Bb,EAAA,KAAUE,OAAO2C,KAAA,kBAAuBhD,EAAAgC,GAAAhC,EAAAmC,GAAAnC,EAAA4C,GAAA,YAAA5C,GAAAiD,OAAAC,WAAAlD,EAAAgC,GAAA,SAAA7B,EAAA,KAAkFE,OAAO2C,KAAA,kBAAuBhD,EAAAgC,GAAAhC,EAAAmC,KAAAnC,EAAAiD,OAAA,eAAAjD,EAAAgC,GAAA,OAAA7B,EAAA,MAAqEa,YAAA,qCAAgDhB,EAAAwB,GAAAxB,EAAA,oBAAAmD,GAAuC,OAAAhD,EAAA,MAAgBuB,IAAAyB,EAAA9H,GAAA2F,YAAA,0DAAAyB,MAAA,gBAAAU,EAAAjI,KAAA,MAA0HiF,EAAA,OAAYE,OAAOiB,IAAA6B,EAAAjI,KAAAqG,mBAA2BpB,EAAA,OAAiBa,YAAA,6BAAAX,OAAgDhF,GAAA,kBAAqB8E,EAAA,MAAWa,YAAA,2CAAqDb,EAAA,MAAAH,EAAAgC,GAAAhC,EAAAmC,GAAAnC,EAAA4C,GAAA,YAAA5C,GAAAoD,eAAA,WAAApD,EAAAwB,GAAAxB,EAAA,mBAAAqD,GAAoH,OAAAlD,EAAA,gBAA0BuB,IAAA,kBAAA2B,EAAA,GAAAhD,OAA8CiD,QAAA,EAAAD,WAAgC9C,IAAKgD,WAAAvD,EAAAwD,kBAA+BxD,EAAAwB,GAAAxB,EAAA,kBAAAqD,GAA0C,OAAAlD,EAAA,gBAA0BuB,IAAA2B,EAAAhI,GAAAgF,OAAsBgD,WAAkB9C,IAAKgD,WAAAvD,EAAAwD,kBAA+BrD,EAAA,OAAYa,YAAA,sDAAgEhB,EAAA,UAAAG,EAAA,QAA6Ba,YAAA,iBAA2BhB,EAAAgC,GAAA,gBAAA7B,EAAA,QAAoCa,YAAA,gBAAAT,IAAgCW,MAAA,SAAAuC,GAAyBA,EAAAC,kBAAyB1D,EAAA1D,kBAAA0D,EAAA7C,cAAsC6C,EAAAgC,GAAA,aAAAhC,EAAAmC,GAAAnC,EAAA2D,YAAA,0CAC58DC,iBCEAC,GAAA,EAEAC,EAAA,KAEAC,EAAA,KAEAC,EAAA,KAEAC,EAAAC,OAAAC,EAAA,KAAAD,CACAtJ,EACAmF,EACA6D,EACAC,EACAC,EACAC,EACAC,GAGAI,EAAA,WAAAH,EAAA,oECsCApJ,QAEA,oCAGAwJ,iBAEA,eAEAA,iBAGA,8CAGA,gDAGA,iDAGA,8CAGA,+CAGA,yEAKA,SACA,oBAEA,uBACA,8BAGA,yEAEA,SACA,oBAEA,uBACA,8BAGA,sCACAC,qBACAA,SChHAvE,EAAA,WAA0B,IAAAC,EAAA7E,KAAa8E,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,cAAAA,EAAA,OAAkCa,YAAA,qBAA+Bb,EAAA,OAAYa,YAAA,2BAAqCb,EAAA,OAAYoC,IAAA,OAAAvB,YAAA,6EAAkGhB,EAAAuE,GAAA,QAAApE,EAAA,UAA8Ba,YAAA,qCAA+Cb,EAAA,OAAYa,YAAA,iDAA2Db,EAAA,OAAYa,YAAA,wBAAAT,IAAwCW,MAAAlB,EAAAwE,UAAoBrE,EAAA,OAAYE,OAAOe,cAAA,+BAAAC,aAAA,oBAAwElB,EAAA,OAAgBa,YAAA,wEAAkFhB,EAAAgC,GAAA,UAAA7B,EAAA,OAA6Ba,YAAA,+DAAyEb,EAAA,OAAYa,YAAA,0BAAoCb,EAAA,OAAYE,OAAOe,cAAA,+BAAAC,aAAA,0BAAyE,GAAArB,EAAA,QAAAG,EAAA,OAAsCa,YAAA,oBAA8Bb,EAAA,OAAAA,EAAA,SAAAH,EAAA+B,KAAA5B,EAAA,QAA4Ca,YAAA,iDAA2DhB,EAAAuE,GAAA,eAAApE,EAAA,UAAqCoC,IAAA,OAAAvB,YAAA,mEAAwFhB,EAAAuE,GAAA,QAAApE,EAAA,KAAyBa,YAAA,2BAAAT,IAA2CW,MAAA,SAAAuC,GAAyBA,EAAAgB,iBAAwBzE,EAAA0E,WAAAjB,OAAyBtD,EAAA,OAAYa,YAAA,0BAAoCb,EAAA,OAAYE,OAAOgB,aAAArB,EAAAvC,MAAA,iCAAuD0C,EAAA,QAAAH,EAAAgC,GAAA,UAAA7B,EAAA,KAAwCa,YAAA,2BAAAT,IAA2CW,MAAA,SAAAuC,GAAyBA,EAAAgB,iBAAwBzE,EAAA2E,cAAAlB,OAA4BtD,EAAA,OAAYa,YAAA,0BAAoCb,EAAA,OAAYE,OAAOgB,aAAA,qBAA8BlB,EAAA,QAAAH,EAAAgC,GAAA,UAAA7B,EAAA,KAAwCa,YAAA,2BAAAT,IAA2CW,MAAA,SAAAuC,GAAyBA,EAAAgB,iBAAwBzE,EAAA4E,YAAAnB,OAA0BtD,EAAA,OAAYa,YAAA,0BAAoCb,EAAA,OAAYE,OAAOgB,aAAA,mBAA4BlB,EAAA,QAAAH,EAAAgC,GAAA,UAAA7B,EAAA,KAAwCa,YAAA,2BAAAT,IAA2CW,MAAA,SAAAuC,GAAyBA,EAAAgB,iBAAwBzE,EAAA6E,WAAApB,OAAyBtD,EAAA,OAAYa,YAAA,0BAAoCb,EAAA,OAAYE,OAAOgB,aAAA,kBAA2BlB,EAAA,QAAAH,EAAAgC,GAAA,uBAC7uE4B,iBCKAC,GAAA,EAEAC,EAAA,KAEAC,EAAA,KAEAC,EAAA,KAEAC,EAAAC,OAAAC,EAAA,KAAAD,CACArJ,EACAkF,EACA6D,EACAC,EACAC,EACAC,EACAC,GAGAI,EAAA,KAAAH,EAAA,qDCUA,SAAAa,EAAAC,WAIAC,IAFA,IACA,gCAGAC,YAEA,uBAEA,yBAEA,YAGAC,EACA,IAAAnK,QAEA,8BAEA,YAEAsJ,yCAIA,wEAKAc,sCAGA7J,oBAGA,IAAAJ,EAAAC,KACAkI,QAAAnI,+CAGA,IAAAkK,EAAAjK,KACAkI,QAAA+B,uBACA,gDAGA,wCAGA5F,uDAGA,oFAKA6F,yEACAhK,6DAIAH,QChGA6E,EAAA,WAA0B,IAAAC,EAAA7E,KAAa8E,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBa,YAAA,8BAAwCb,EAAA,OAAYa,YAAA,6BAAuCb,EAAA,UAAeE,OAAOnF,KAAA8E,EAAA9E,QAAiBiF,EAAA,WAAgBa,YAAA,+DAAyEb,EAAA,UAAea,YAAA,uDAAiEb,EAAA,MAAWa,YAAA,gCAA0ChB,EAAAgC,GAAAhC,EAAAmC,GAAAnC,EAAA9E,KAAAoK,SAAAnF,EAAA,OAA4Ca,YAAA,uBAAiChB,EAAA,OAAAG,EAAA,QAA0Ba,YAAA,2BAAqChB,EAAAgC,GAAA,QAAAhC,EAAA+B,KAAA5B,EAAA,QAAAH,EAAAgC,GAAAhC,EAAAmC,GAAAnC,EAAA4C,GAAA,YAAA5C,GAAA6C,cAAA1C,EAAA,WAAuGa,YAAA,+BAAAyB,OAAkD8C,MAAAvF,EAAAqF,WAAqB9E,IAAKW,MAAAlB,EAAAwF,eAAyBxF,EAAA,WAAAG,EAAA,QAA8Ba,YAAA,sBAAgChB,EAAAgC,GAAA,oBAAA7B,EAAA,eAA+CE,OAAOoF,GAAA,SAAAzF,EAAAP,UAAA,MAAsCO,EAAAgC,GAAAhC,EAAAmC,GAAAnC,EAAAP,UAAA6F,SAAAtF,EAAAgC,GAAA,sBAAAhC,EAAA+B,KAAA/B,EAAAgC,GAAA,aAAAhC,EAAAmC,GAAAnC,EAAAR,MAAA,cAAAW,EAAA,QAA2IuF,aAAaJ,KAAA,OAAAK,QAAA,SAAAC,MAAA5F,EAAA6F,WAAA,KAAA7F,EAAAqF,UAAAS,WAAA,kCAAsH9E,YAAA,cAAAT,IAAgCW,MAAA,SAAAuC,GAAyBA,EAAAC,kBAAyB1D,EAAAqF,WAAArF,EAAAqF,cAAiCrF,EAAAgC,GAAA,wBAC7zC4B,iBCKAC,GAAA,EAEAC,EAAA,KAEAC,EAAA,KAEAC,EAAA,KAEAC,EAAAC,OAAAC,EAAA,KAAAD,CACAnJ,EACAgF,EACA6D,EACAC,EACAC,EACAC,EACAC,GAGAI,EAAA,KAAAH,EAAA,0LCeA8B,GAAA,sBAEA3K,QAEA,wBAEA4K,WAAA,KAGAC,YAAA,0DAIAC,oCAMA,8BAGA,IAAAA,EAAA5L,EAAAoF,OAAAwG,sGAMAA,qCACAC,kDAWAC,UAAA,WADA,IAAAC,EAAAC,kKAEAnK,IACA,4BAGAoK,gBAKA,qLAIA,wCAEA,sGAhBA,GAiBAC,WAAA,8KAEAD,gBACA,cAGAE,2BACAtK,IACA,UAEAuD,6HACAgH,oDACAC,yDACArD,iDACAmD,6CAGA,qGAjBA,qCAkBA,IAAAP,EAAAU,EAAAlH,OAAAwG,iCACA,4EAGA,MCtHAnG,EAAA,WAA0B,IAAAC,EAAA7E,KAAa8E,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2Ba,YAAA,sDAAgEb,EAAA,MAAWa,YAAA,6EAAuFb,EAAA,eAAoBE,OAAOwG,IAAA,KAAApB,GAAA,YAAAqB,eAAA,SAAAC,MAAA,MAAgE5G,EAAA,KAAAH,EAAAgC,GAAA,UAAA7B,EAAA,eAA6CE,OAAOwG,IAAA,KAAApB,GAAA,YAAAqB,eAAA,SAAAC,MAAA,MAAgE5G,EAAA,KAAAH,EAAAgC,GAAA,UAAA7B,EAAA,eAA6CE,OAAOwG,IAAA,KAAApB,GAAA,eAAAqB,eAAA,SAAAC,MAAA,MAAmE5G,EAAA,KAAAH,EAAAgC,GAAA,gBAAA7B,EAAA,aAAiDoC,IAAA,WAAAvB,YAAA,cAAAX,OAAgD+F,UAAApG,EAAAoG,UAAAI,WAAAxG,EAAAwG,cAAuDrG,EAAA,MAAAH,EAAAwB,GAAAxB,EAAA,gBAAA5E,GAA8C,OAAAA,EAAA,GAAA+E,EAAA,MAA0BuB,IAAA,eAAA1B,EAAAuG,UAAA,IAAAnL,EAAA,KAAuD+E,EAAA,aAAkBE,OAAOjF,OAAAkI,QAAA,MAA2B,GAAAtD,EAAA+B,OAAe/B,EAAAwB,GAAAxB,EAAA,eAAA5E,GAAoC,OAAAA,EAAA,GAAA+E,EAAA,MAA0BuB,IAAA,QAAA1B,EAAAuG,UAAA,IAAAnL,EAAA,KAAgD+E,EAAA,aAAkBE,OAAOjF,WAAa,GAAA4E,EAAA+B,QAAe,KAAA5B,EAAA,mBACzlCyD,iBCDA,SAAAoD,EAAAC,GACAC,EAAA,QAQA,IAAArD,GAAA,EAEAC,EAAAkD,EAEAjD,EAAA,kBAEAC,EAAA,KAEAC,EAAAC,OAAAC,EAAA,KAAAD,CACA9I,EACA2E,EACA6D,EACAC,EACAC,EACAC,EACAC,GAGAI,EAAA,WAAAH,EAAA,kDC3BA,SAAAkD,EAAAC,GACAC,EAAAC,QAAAF,EAAAD,GADA,CAECI,OAAA,SAAAJ,EAAAC,GACD,SAAAnC,EAAAmC,EAAAnC,EAAAuC,GACAL,EAAAM,8BAAAC,OAAAN,EAAAO,EAAA1C,GAAA,SAAAkC,GACAS,EAAAR,EAAAD,EAAAK,KACKK,EAAAT,EAAAI,GAGL,SAAAA,EAAAJ,EAAAnC,EAAAuC,GACAL,EAAAM,8BAAAlH,GAAA6G,EAAA,SAAAD,GACAK,KAAAM,SAAAN,EAAAM,QAAAX,GAAAS,EAAAR,EAAAD,EAAAlC,KACK4C,EAAAT,EAAAI,GAAAvC,GAGL,SAAA0C,EAAAR,GACA,OAAAA,QAAsBA,EAAAY,MAAAC,EAAAD,MAAAZ,EAAAc,YAAAD,EAAAD,MAAAZ,EAAAe,eAAA,OAAAf,EAAAgB,gBAAAH,EAAAzJ,UAAA,GAAA4I,EAAAiB,eAAAJ,EAAAK,SAAAlB,EAAAmB,gBAAAN,EAAAxJ,UAAA2I,EAGtB,SAAAoB,EAAApB,GACA,OACAqB,UAAArB,EAAA5I,UAAA,GACA8J,SAAAlB,EAAAkB,SACAI,QAAAtB,EAAAsB,QACAC,QAAAvB,EAAAuB,QACAC,SAAAxB,EAAAwB,UAAA,QAIA,SAAA1J,EAAAkI,GACA,OAAAA,EAAAyB,WAAAzB,EAAA0B,yBAAA1B,EAAA0B,kBAAA1B,EAAA2B,aAAA3B,EAAA4B,6BAAA5B,EAAA4B,sBAAA5B,EAAA6B,SAAA7B,EAAA8B,kCAAA9B,EAAA8B,2BAAA9B,EAAA+B,YAAA/B,EAAAgC,qCAAAhC,EAAAgC,8BAAAhC,EAAAiC,WAAAjC,EAAAkC,yBAAAlC,EAAAkC,kBAAAlC,EAGA,SAAAS,EAAAT,EAAAC,EAAAnC,GACA,sBAAAkC,IAAAC,EAAAkC,QAAAlC,EAAAmC,iBAAAnC,EAAAmC,gBAAAnC,EAAAoC,gBAAApC,EAAAqC,WACA,IAAAjC,EAAAJ,EAAAsC,OACAlC,MAAAJ,EAAAuC,eAAAvC,EAAAuC,QAAAnC,EAAApN,EAAA+M,EAAAK,GAAAJ,EAAAsC,OAAAlC,IAAAvC,SAAmF2E,YAAA3E,EAAA2E,UAAAxC,UAAAnC,EAAA2E,WAAApC,EAAAJ,EAAAsC,QAAA,GAAA1B,EAAA6B,QAAA5E,EAAA6E,eAAAC,MAAAC,KAAAC,UAAA7C,IACnF,IAAAO,EAAAH,EAAA0C,QAAA,KACA,OAAA1C,EAAA2C,UAAAxC,EAAA,IACA,SACA1C,EAAAmF,SAAAnF,EAAAmF,QAAAhD,GACA,MACA,aACAnC,EAAAoF,QAAApF,EAAAoF,OAAAjD,GACA,MACA,QACAnC,EAAAqF,MAAArF,EAAAqF,KAAAlD,GAEAnC,EAAAsF,UAAAtF,EAAAsF,SAAAnD,GAGA,SAAAhN,EAAA+M,EAAAC,GACA,IAAAnC,EAAAkC,EACAK,EAAAgD,EAAAvF,GACAuC,IAAAvC,EAAAuC,GACA,IAAAG,EAAA,KACA,GAAAP,EAAA,CACA,IAAAmB,EAAAnB,EAAA8C,QAAA,KACA,YAAAvC,EAAAP,EAAA+C,UAAA5B,EAAA,MAAAZ,EAAA,gBAAAA,MAAA,YAAAA,EAAAuC,QAAA,aAAAvC,IAAAwC,UAAA,QAAAxC,EAAAuC,QAAA,WAAAvC,IAAAwC,UAAA,sBAAAxC,OAAA7L,QAAA,WAAA2O,gBAAA,4BAAA9C,MAAA,+BAAA1C,GAAA,sBAAA0C,MAAA,UAAAA,MAAA,QAEA,OAAA1C,EAAA,IAAA0C,EAGA,SAAA+C,EAAAvD,GACA,GAAAA,EAAA,CACA,QAAAC,EAAA,EAAAnC,EAAAkC,EAAApK,OAAmCqK,EAAAnC,IAAOmC,EAAA,CAC1C,IAAAI,EAAAL,EAAAC,GACAO,EAAAgD,EAAAnD,GACAG,IAAAR,EAAAC,GAAAO,GAEA,OAAAR,GAIA,SAAAU,EAAAV,EAAAC,GACA,MAAAY,EAAA6B,OAAAzC,KAAA0C,eAAA,CACA,IAAA7E,EAAAuF,EAAArD,GACAlC,IAAAkC,EAAAlC,GAAAmC,KAAAwC,kBAAAxC,EAAAwC,UAAAgB,QAAAC,IAAA,IAAA1D,EAAA,KAAAC,GAAA,KAIA,SAAA0D,EAAA3D,GACA,KAAA4D,GAAAC,GAAAhD,EAAA6B,OAAAoB,EAAA,SAAAC,EAAAC,WAAA,IACA,IAAA/D,EAAA,IAAAgE,MACAF,EAAAnD,MAAAC,EAAAD,MAAAmD,EAAAG,SAAAC,EAAAC,YAAAD,EAAAE,cAAAN,EAAAO,cAAAH,EAAAI,iBAAAJ,EAAAK,mBAAAC,EAAAC,gBACA/B,eAAA,EACAM,QAAA,SAAAjD,GACA+D,EAAAY,YAAA3E,EAAA2E,YACA,IAAA7G,EAAA,2CAAAiG,EAAAa,QAAA,MAAAb,EAAAc,cAAA,MAAAd,EAAAC,WAAA,MAAAD,EAAAe,cAAA,MAAAf,EAAAnD,MAAA,MAAAmD,EAAAY,YAAA,MAAAZ,EAAAG,SAAA,MAAAH,EAAAO,cAAA,MAAAP,EAAArR,IACAuN,EAAA9F,IAAA2D,MAMA,SAAAiH,IACA,WAAAC,MAAAtO,UAGA,SAAAuO,EAAAhF,GACAiF,IAAAlF,EAAAM,eAAA,cAAA6E,EAAAC,sBAAAD,EAAAE,kBAAAF,EAAAE,iBAAA,sBAAApF,GAAA,GAAAA,IAAAkF,EAAAE,kBAAAF,EAAAE,iBAAA,sBAAApF,GAAA,IAGA,SAAAqF,IACAb,EAAAlE,SAAAkE,EAAAlE,OAAA,SAAAN,EAAAnC,EAAAuC,GACAL,EAAAM,+BAAAC,OAAAN,EAAAO,EAAA1C,GAAAuC,IACKoE,EAAArL,GAAA,SAAA6G,EAAAnC,GACLkC,EAAAM,+BAAAlH,GAAA6G,EAAAnC,KAIA,SAAAyH,EAAAvF,GACA,oBAAAA,KAAApK,OAAA,GACA,IAAAqK,EAAAD,EAAAwF,MAAA,QACA1H,EAAAkC,EAAAwF,MAAA,QACA,OAAAvF,GAAA,iBAAAnC,EAAAmC,EAAA,IAAAnC,EAAAmC,GAGA,IAAAD,EAAAyF,QAAA,CACA,IAAAjC,GACAkC,OAAA,iBACAC,oBAAA,sBACAC,sBAAA,wBACAC,cAAA,gBACAC,iBAAA,sBACAC,iBAAA,mBACAC,aAAA,eACAC,YAAA,cACAC,wBAAA,yBACAC,QAAA,eACAC,SAAA,gBACAC,YAAA,uBACAC,wBAAA,8BACAC,mBAAA,yBACAC,kBAAA,wBACAC,gBAAA,mBACAC,oBAAA,oBACAC,YAAA,eAEAtD,EAAA,WACA,IAAArD,KACA,QAAAC,KAAAuD,EAAAxD,EAAAwD,EAAAvD,MACA,OAAAD,EAHA,GAKAmF,EAAAnF,EAAA4G,SACAC,EAAA1B,EAAA3N,MACAsP,EAAAC,UAAAC,UAAA1D,cACA2D,EAAAF,UAAAG,SAAA5D,cACAM,KAAAqD,EAAAE,MAAA,SAAAF,EAAAE,MAAA,QACAtD,GAAA,GAAAiD,EAAA/D,QAAA,cACAmC,GAAA,GAAA4B,EAAA/D,QAAA,kBACAqE,GAAA,GAAAN,EAAA/D,QAAA,WACAsE,GAAA,GAAAP,EAAA/D,QAAA,eAAA+D,EAAA/D,QAAA,QACAe,EAAA,WACA,IAAA9D,EAAA8G,EAAAK,MAAA,oCAAAL,EAAAK,MAAA,8BACA,OAAAnH,IAAA,MAFA,GAIAmE,GACAE,cAAAU,IACAX,YAAA,EACAI,mBAAA,EACAD,iBAAA,GAEAR,GACAa,QAAA,EACAhE,MAAA,GACAsD,SAAA,EACAI,cAAA,EACAK,YAAA,GACAE,cAAA,EACAb,WAAAqD,EAAA,EAAAD,EAAA,KACAtC,cAAAhB,EACApR,IAAA4U,mBAAAC,SAAA1L,OAEAgF,KACA2G,GACAC,eAEAC,GACAC,MAAA,EACAvU,SAEA6R,EAAA,WACAd,EAAAC,YAAAW,MAEA,IAAA6C,GAAA,EACAC,KACApD,GACAiB,OAAA,SAAA1F,GACAa,EAAAb,EAAAU,EAAA,SAAAV,GACA,IAAAC,GAAA,IAAAY,EAAAiH,MACA7C,EAAA,WACA,GAAAhF,EAAAnC,EAAA0F,EAAAkC,QACAqC,gBAAAxE,EAAA1C,EAAAmH,YACa,WACbR,EAAA/E,UAAA,SAAAzC,GACAmE,EAAAI,iBAAAQ,IAAA2C,EAAAC,MAAA,EAAAD,EAAAtU,KAAA4M,GACewH,EAAAvE,QAAA,SAAAjD,GACf+D,EAAAc,cAAA,GACe2C,EAAArE,KAAA,SAAAnD,GACfwH,EAAAS,MAAAT,EAAAS,MAAAjI,GAAA0H,EAAAC,OAAA,GAEA,IAAA3H,EAAAwH,EAAAC,WACA,OAAAzH,EAAAkI,KAAA,WACAvE,MACe6D,EAAApE,SAAA,SAAAnD,GACf,QAAAnC,EAAA,EAAAuC,EAAAL,EAAApK,OAA6CkI,EAAAuC,IAAOvC,EAAAkC,EAAAlC,KACpD0J,EAAAC,eACeD,EAdF,IAeArD,EAAAK,mBAAAO,QACb,CACA2C,EAAAC,MAAA,EACA,QAAA3H,EAAAwH,EAAAC,WAAApH,EAAA,EAAAG,EAAAR,EAAApK,OAA6DyK,EAAAG,IAAOH,EAAAL,EAAAK,KACpEmH,EAAAC,iBAEWnC,KAEX6C,MAAA,SAAAnI,GACA,GAAA0H,EAAAC,MAAA3H,KAAAwH,EAAAC,WAAAS,KAAAlI,IAAAkF,GAAArE,EAAA6B,OAAA1C,MAEAjI,MAAA,SAAAiI,GACA8D,EAAA,cAAA4D,EAAAC,MAAA3H,EAAA0H,EAAAtU,MAAAoU,EAAAS,MAAAjI,IAEAoI,WAAA,SAAApI,GACA,IAAAC,EAAA,SAAAD,GACA,IAAAC,EAAAD,EAAAqI,YACA,QAAAvK,KAAAmC,EAAA,CACA,IAAAI,EAAAgD,EAAAvF,GACAuC,IAAAJ,EAAAI,GAAAJ,EAAAnC,UAAAmC,EAAAnC,IAEA,OAAAkC,GAEAlC,EAAA,cACAkK,UAAAzE,EAAAvD,EAAAgI,aACWhI,EAAAyC,UAAA,SAAAzC,GACX,GAAAoH,EAAA,CACA,IAAAtJ,EAAAkC,EAAAqI,YACAvK,IAAAkC,EAAAqI,YAAAxF,KAAAyF,MAAAxK,IAEAkC,EAAAC,EAAAD,IACWA,KAEX2F,oBAAA,SAAA3F,GACAK,EAAAmD,EAAAmC,qBACAvC,SAAA,WACAtF,EAAA,iBACAtG,MAAAwI,EAAAxI,OAAAqP,EACApP,KAAAuI,EAAAxI,OAAAqP,EACA0B,QAAAvI,EAAAwI,QAAA,GACA3T,KAAAmL,EAAAnL,MAAA0S,SAAA1L,KACAkD,KAAAiB,EAAAjB,MAAA,OACA0J,SAAAzI,EAAA0I,SAAA,IACe1I,KAEJA,IAEX4F,sBAAA,SAAA5F,GACAK,EAAAmD,EAAAoC,uBACAxC,SAAA,WACAtF,EAAA,kBACAtG,MAAAwI,EAAAxI,OAAAqP,EACApP,KAAAuI,EAAAvI,MAAA,GACA5C,KAAAmL,EAAAnL,MAAA0S,SAAA1L,KACA0M,QAAAvI,EAAAwI,QAAA,GACAzJ,KAAAiB,EAAAjB,MAAA,OACA0J,SAAAzI,EAAA0I,SAAA,IACe1I,KAEJA,IAEX6F,cAAA,SAAA7F,GACAK,EAAAmD,EAAAqC,eACAzC,SAAA,WACAtF,EAAA,WACAtG,MAAAwI,EAAAxI,OAAAqP,EACApP,KAAAuI,EAAAvI,MAAA,GACA8Q,QAAAvI,EAAAwI,QAAA,GACA3T,KAAAmL,EAAAnL,MAAA0S,SAAA1L,MACemE,KAEJA,IAEX8F,iBAAA,SAAA9F,GACAK,EAAAmD,EAAAsC,kBACA1C,SAAA,WACAtF,EAAA,iBACAtG,MAAAwI,EAAAxI,OAAAqP,EACApP,KAAAuI,EAAAvI,MAAA,GACA8Q,QAAAvI,EAAAwI,QAAA,GACA3T,KAAAmL,EAAAnL,MAAA0S,SAAA1L,MACemE,KAEJA,IAEX+F,iBAAA,SAAA/F,GACAK,EAAAmD,EAAAuC,kBACA3C,SAAA,WACAtF,EAAA,cACAtG,MAAAwI,EAAAxI,OAAAqP,EACApP,KAAAuI,EAAAvI,MAAA,GACA8Q,QAAAvI,EAAAwI,QAAA,GACA3T,KAAAmL,EAAAnL,MAAA0S,SAAA1L,MACemE,KAEJA,IAEX2I,YAAA,SAAA3I,GACAlC,EAAA,iBAA6BkC,IAE7B4I,WAAA,SAAA5I,GACAlC,EAAA,gBAA4BkC,IAE5B6I,iBAAA,SAAA7I,GACAK,EAAA,mBAAAL,IAEA8I,UAAA,SAAA9I,GACAlC,EAAA,aACAiL,QAAA/I,EAAA+I,SACW/I,IAEXgJ,WAAA,SAAAhJ,GACAlC,EAAA,cACAiL,QAAA/I,EAAA+I,SACW/I,IAEXiJ,UAAA,SAAAjJ,GACAlC,EAAA,aACAiL,QAAA/I,EAAA+I,SACW/I,IAEXkJ,eAAA,SAAAlJ,GACAK,EAAA,iBAAAL,IAEAmJ,YAAA,SAAAnJ,GACAlC,EAAA,eACAiL,QAAA/I,EAAA+I,QACAK,mBAAA,GAAApJ,EAAAoJ,mBAAA,KACWpJ,IAEXqJ,cAAA,SAAArJ,GACAlC,EAAA,iBACAwL,SAAAtJ,EAAAsJ,SACAF,mBAAA,GAAApJ,EAAAoJ,mBAAA,KACWpJ,IAEXuJ,eAAA,SAAAvJ,GACAlC,EAAA,kBACAiL,QAAA/I,EAAA+I,QACAK,mBAAA,GAAApJ,EAAAoJ,mBAAA,KACWpJ,IAEXwJ,YAAA,SAAAxJ,GACAlC,EAAA,eACA2L,MAAA,MACA1N,MAAAiE,EAAAjE,OAAA,EACA2N,SAAA1J,EAAA0J,WAAA,yBACAC,WAAA3J,EAAA2J,aAAA,oBACW3J,EAAAyC,UAAA,SAAAzC,GACX,GAAAoH,EAAA,CACA,IAAAnH,EAAAD,EAAA4J,SACA3J,IAAAD,EAAA4J,SAAA/G,KAAAyF,MAAArI,MAEWD,KAEXiG,YAAA,SAAAjG,KACAgG,aAAA,SAAAhG,GACAlC,EAAA0F,EAAAwC,cACA6D,QAAA7J,EAAA6J,QACAC,KAAA9J,EAAA8J,MACW9J,IAEX+J,YAAA,SAAA/J,GACAlC,EAAA,eACAiL,QAAA/I,EAAA+I,QACAK,mBAAA,GAAApJ,EAAAoJ,mBAAA,KACWpJ,IAEXgK,cAAA,SAAAhK,GACAlC,EAAA,iBACAwL,SAAAtJ,EAAAsJ,SACAF,mBAAA,GAAApJ,EAAAoJ,mBAAA,KACWpJ,IAEXiK,gBAAA,SAAAjK,IACA,IAAA4H,MAAA,EAAA9J,EAAA,mBACAiL,QAAA/I,EAAA+I,UACW/I,EAAAyC,UAAA,SAAAzC,GACX,GAAA4H,GAAA,EAAAC,EAAAjS,OAAA,GACA,IAAAqK,EAAA4H,EAAAqC,QACAC,GAAAF,gBAAAhK,KAEWD,KAAA6H,EAAAK,KAAAlI,IAEX0E,eAAA,SAAA1E,GACA,IAAAC,EAAA,SAAAD,GACA,IAAAC,EAAAD,EAAAuC,OACAvC,EAAAuC,OAAA,oBACA,IAAAzE,EAAAkC,EAAAoK,QACA,UAAApK,EAAAoK,QAAAtM,EAAAkC,EAAA2E,YAAA7G,MACA,CACA,IAAAuC,EAAAJ,EAAA8C,QAAA,KACAvC,EAAAP,EAAA+C,UAAA3C,EAAA,GACA,OAAAG,GACA,WACA,WACA,WACAR,EAAA2E,YAAAnE,EACA,MACA,QACAR,EAAAuC,OAAA,uBAGA,OAAAvC,GAEAlC,EAAA,qBAAgCkC,EAAAyC,UAAA,SAAAzC,GAChCA,EAAAC,EAAAD,IACWA,KAEXqK,aAAA,SAAArK,GACAlC,EAAA,gBACAwM,SAAAtK,EAAAsK,SACAC,UAAAvK,EAAAuK,UACApM,KAAA6B,EAAA7B,MAAA,GACAqM,QAAAxK,EAAAwK,SAAA,GACAC,MAAAzK,EAAAyK,OAAA,GACAC,QAAA1K,EAAA0K,SAAA,IACW1K,IAEXiG,YAAA,SAAAjG,GACAA,QAAqBlC,EAAA0F,EAAAyC,aACrBlH,KAAAiB,EAAAjB,MAAA,UACWiB,EAAAyC,UAAA,SAAAzC,UACXA,EAAAjB,MACWiB,KAEX2K,eAAA,SAAA3K,GACAlC,EAAA,oBAAgCkC,IAEhC4K,eAAA,SAAA5K,GACAlC,EAAA,oBAAgCkC,IAEhC6K,YAAA,SAAA7K,GACAlC,EAAA,iBAA6BkC,UAE7B8K,cAAA,SAAA9K,GACAlC,EAAA,iBACAiN,SAAA/K,EAAA+K,UACW/K,IAEXgL,cAAA,SAAAhL,GACAlC,EAAA,iBACAiN,SAAA/K,EAAA+K,UACW/K,IAEXiL,uBAAA,SAAAjL,GACAlC,EAAA,4BAAwCkC,IAExCkL,uBAAA,SAAAlL,GACAlC,EAAA,4BAAwCkC,IAExCmL,WAAA,SAAAnL,GACAlC,EAAA,cACAsN,YAAApL,SAAoCoL,YAAA,EACpCC,SAAArL,EAAAqL,WAAA,sBACWrL,EAAAyC,UAAA,SAAAzC,GACX,GAAAqH,EAAA,CACA,IAAApH,EAAAD,EAAAsL,UACA,GAAArL,EAAA,CACA,IAAAnC,EAAA+E,KAAAyF,MAAArI,GACAD,EAAAsL,UAAAxN,KAAAyN,WAAAzN,EAAAyN,UAAAC,eAGWxL,KAEX2G,YAAA,SAAA3G,GACAlC,EAAA0F,EAAAmD,gBAA6B3G,EAAAyC,UAAA,SAAAzC,GAC7BA,EAAAlI,EAAAkI,IACWA,KAEXkG,wBAAA,SAAAlG,GACAlC,EAAA0F,EAAA0C,yBACAuF,IAAAzL,EAAA0L,UACAC,UAAA3L,EAAA4L,UAAA,EACAC,SAAA7L,EAAA8L,SACW9L,IAEXmG,QAAA,SAAAnG,GACA,QAAAC,EAAAD,EAAA+L,SAAA1L,KAAAG,EAAA,EAAAY,EAAAnB,EAAArK,OAA+D4K,EAAAY,IAAOZ,EAAA,CACtE,IAAA1I,EAAAmI,EAAAO,GACAC,GACAuL,QAAAlU,EAAAmU,OACAC,SAAApU,EAAAqU,SAEA9L,EAAA6H,KAAAzH,GAEA3C,EAAA0F,EAAA2C,SACAiG,UAAA/L,IACWL,EAAAyC,UAAA,SAAAzC,GACX,IAAAC,EAAAD,EAAAoM,UACA,GAAAnM,EAAA,CACA,QAAAnC,EAAA,EAAAuC,GAAAJ,EAAA4C,KAAAyF,MAAArI,IAAArK,OAA6DkI,EAAAuC,IAAOvC,EAAA,CACpE,IAAA0C,EAAAP,EAAAnC,GACA0C,EAAAyL,OAAAzL,EAAAwL,QAAAxL,EAAA2L,QAAA3L,EAAA0L,SAAA1L,EAAA6L,YAAA7L,EAAA8L,eAAA9L,EAAAwL,eAAAxL,EAAA0L,gBAAA1L,EAAA8L,QAEAtM,EAAA+L,SAAA9L,SAAAD,EAAAoM,YAEWpM,KAEXuM,WAAA,SAAAvM,GACAlC,EAAA,cACA0O,OAAA3L,EAAAD,MACA6L,YAAAzM,EAAA0M,QAAA,GACAC,UAAA3M,EAAAwB,UAAA,OACAwK,QAAAhM,EAAAiM,QAAA,GACAW,UAAA5M,EAAA6M,UAAA,GACAC,UAAA9M,EAAA+M,SACAC,WAAAhN,EAAA5I,UAAA,GACA6V,UAAAjN,EAAAkB,WACWlB,EAAAyC,UAAA,SAAAzC,GACXA,EAAA+L,SAAA/L,EAAAkN,wBAAAlN,EAAAkN,kBACWlN,KAEXoG,SAAA,SAAApG,GACA,QAAAC,EAAAD,EAAA+L,SAAA1L,KAAAG,EAAA,EAAAY,EAAAnB,EAAArK,OAA+D4K,EAAAY,IAAOZ,EAAA,CACtE,IAAA1I,EAAAmI,EAAAO,GACAC,GACAuL,QAAAlU,EAAAmU,OACAkB,KAAArV,EAAAqV,MAEA9M,EAAA6H,KAAAzH,GAEA3C,EAAA0F,EAAA4C,UACAgG,UAAA/L,GACWL,IAEX0G,oBAAA,SAAA1G,GACAlC,EAAA0F,EAAAkD,qBACA0G,eAAApN,EAAAiM,OACAoB,aAAArN,EAAAmN,MACWnN,IAEXqG,YAAA,SAAArG,GACAlC,EAAA0F,EAAA6C,YAAAjF,EAAApB,OAEAsG,wBAAA,SAAAtG,GACAlC,EAAA0F,EAAA8C,wBAAAlF,EAAApB,OAEAuG,mBAAA,SAAAvG,GACAlC,EAAA0F,EAAA+C,oBACA+G,OAAAtN,EAAAsN,QACWtN,IAEXwG,kBAAA,SAAAxG,GACAlC,EAAA0F,EAAAgD,qBAAmCxG,IAEnCyG,gBAAA,SAAAzG,GACAK,EAAAmD,EAAAiD,gBAAAzG,IAEAuN,mBAAA,SAAAvN,GACAlC,EAAA,sBACA0P,WAAAxN,EAAAyN,QACAC,SAAA1N,EAAA2N,WACW3N,IAEX4N,kBAAA,SAAA5N,GACAlC,EAAA,qBACA+P,YAAA7N,EAAA6N,YACAC,KAAAvI,EAAAvF,EAAA8N,MACAC,WAAA/N,EAAA+N,YACW/N,IAEXgO,aACAC,aAAA,SAAAjO,GACAA,QAAuBiF,EAAA,WACvBnH,EAAA,wBACAK,KAAA,eACA+P,KACAC,MAAAnO,EAAAmO,OAAA,IAEenO,MAGfoO,WAAA,SAAApO,GACAiF,EAAA,WACAnH,EAAA,wBACAK,KAAA,aACA+P,KACAxb,IAAAsN,EAAAtN,MAEesN,MAGfqO,WAAA,SAAArO,GACAiF,EAAA,WACAnH,EAAA,wBACAK,KAAA,aACA+P,KACAxb,IAAAsN,EAAAtN,MAEesN,MAGfsO,UAAA,SAAAtO,GACAiF,EAAA,WACAnH,EAAA,wBACAK,KAAA,YACA+P,KACAxb,IAAAsN,EAAAtN,MAEesN,MAGfuO,SAAA,SAAAvO,GACAiF,EAAA,WACAnH,EAAA,wBACAK,KAAA,WACA+P,KACAxb,IAAAsN,EAAAtN,MAEesN,MAGfwO,YAAA,SAAAxO,GACAiF,EAAA,WACAnH,EAAA,wBACAK,KAAA,cACA+P,IAAAlO,EAAA5M,UACe4M,MAGfyO,OAAA,SAAAxO,GACAgF,EAAA,WACAhF,GACAyO,YAAA,gBAAA1O,EAAA2O,0BAMAC,EAAA,EACAC,KACA,OAAA1J,EAAAE,iBAAA,iBAAArF,GACA,IAAAoH,EAAA,CACA,IAAAnH,EAAAD,EAAA8O,OACAhR,EAAAmC,EAAA8O,QACA1O,EAAAJ,EAAA9F,IACA,WAAA2D,GAAA,SAAAA,GAAA,SAAAA,GAAA,UAAAA,KAAA,GAAAuC,EAAA0C,QAAA,uBACA/C,EAAA1C,iBAAA0C,EAAAzD,kBACA,IAAAiE,EAAAP,EAAA,SACA,GAAAO,MAAAoO,IAAA3O,EAAA,SAAAO,GAAAqO,EAAArO,GAAA,OACAqO,EAAArO,IAAA,EAAA2J,GAAAhC,MAAA,WACAgC,GAAAF,iBACAlB,QAAA1I,EACA4C,QAAA,SAAAjD,GACAC,EAAA9F,IAAA6F,EAAAgP,mBAMK,GAAA7J,EAAAE,iBAAA,gBAAArF,GACL,IAAAoH,EAAA,CACA,IAAAnH,EAAAD,EAAA8O,OACAhR,EAAAmC,EAAA8O,QAEA,GADA9O,EAAA9F,IACA,OAAA2D,GAAA,SAAAA,GAAA,SAAAA,GAAA,UAAAA,EAAA,CACA,IAAAuC,EAAAJ,EAAA,SACAI,IAAAwO,EAAAxO,IAAA,OAGK,GAAAJ,IAAAD,EAAAmK,GAAAnK,EAAAyF,QAAAhB,8BC9pBL,IAAAwK,EAAAC,EAAAC,GAMA,SAAAC,EAAAC,GACA,aAIAH,KAAAD,EAAA,EAAAE,EAAA,oBAAAF,IAAAK,MAAAnP,EAAA+O,GAAAD,OAAAM,IAAAJ,IAAAjP,EAAAC,QAAAgP,IALA,CAeCnb,EAAA,WACD,aAIA,IAAAwb,GACAC,OAAA,aAA0B,KAC1BC,UAAA,cAAA9I,SAAA+I,gBACAC,OAAAxP,OAAAyP,uBAAAzP,OAAA0P,6BAAA1P,OAAA2P,2BASA,SAAAC,EAAAC,GACAjc,KAAAic,WACAjc,KAAAkc,SAAA,EAqCA,SAAAC,EAAAC,GACA,OAAAA,GAAA,qBAAAhQ,SAAAgQ,IAAAhQ,QAAAgQ,EAAAC,UAMA,SAAAC,EAAAC,GACA,GAAAC,UAAA5a,QAAA,EACA,UAAAtC,MAAA,wCAGA,IACAiH,EACAuD,EAFA2S,EAAAF,MAIA,IAAAzS,EAAA,EAAeA,EAAA0S,UAAA5a,OAAsBkI,IAAA,CACrC,IAAA4S,EAAAF,UAAA1S,OAEA,IAAAvD,KAAAmW,EAEA,kBAAAD,EAAAlW,IAAA4V,EAAAM,EAAAlW,IAIAkW,EAAAlW,GAAAkW,EAAAlW,IAAAmW,EAAAnW,GAHAkW,EAAAlW,GAAA+V,EAAAG,EAAAlW,GAAAmW,EAAAnW,IAQA,OAAAkW,EAMA,SAAAE,EAAAtQ,GACA,OAAAA,IAAAtD,OAAAsD,MAAkCuQ,KAAAvQ,EAAAwQ,GAAAxQ,GAWlC,SAAAyQ,EAAAC,EAAAC,GACAA,EAAAV,EAAAU,EAAAF,EAAAE,SAEAhd,KAAAid,iBAAA,EACAjd,KAAA+c,OACA/c,KAAAkd,UAAAP,EAAAK,EAAAE,WACAld,KAAAmd,QAAAH,EAAAG,QACAnd,KAAAod,OAAAJ,EAAAI,OACApd,KAAAqd,SAAAL,EAAAK,SACArd,KAAAsd,aAAA,EACAtd,KAAAud,MAAAP,EAAAO,MACAvd,KAAAwd,QAAAR,EAAAQ,QACAxd,KAAAyd,MAAAT,EAAAS,MACAzd,KAAA0d,SAAAV,EAAAU,SACA1d,KAAA2d,SAAAX,EAAAW,SACA3d,KAAA4d,YAAAZ,EAAAY,YAqUA,OAlbAxR,OAAAyP,sBAAAzP,OAAAyP,uBAAAzP,OAAA0P,6BAAA1P,OAAA2P,yBAWAC,EAAA6B,WACAC,YAAA9B,EAMA+B,OAAA,WACA/d,KAAAic,UAAAjc,KAAAic,WACAjc,KAAAkc,SAAA,GAOA8B,YAAA,WACAhe,KAAAkc,UACAL,sBAAA7b,KAAAie,cAAAje,KAAAie,YAAAje,KAAA+d,OAAAtC,KAAAzb,QACAA,KAAAkc,SAAA,IAOAgC,YAAA,WACAle,KAAAge,gBAyEAlB,EAAAe,WACAC,YAAAhB,EAKA3T,KAAA,WACA,GAAA2T,EAAAqB,eAWA,OAPAne,KAAAoe,UAAA,IAAApC,EAAAhc,KAAA+d,OAAAtC,KAAAzb,OACAA,KAAA+c,KAAArB,UAAA2C,IAAAre,KAAAmd,QAAAmB,SAIA3Z,WAAA3E,KAAAue,YAAA9C,KAAAzb,MAAA,KAEAA,MAMAwe,QAAA,WACA,IAAArB,EAAAnd,KAAAmd,QAIA,QAAA5W,KAFAvG,KAAAsd,aAAA,EAEAH,EACAA,EAAAsB,eAAAlY,IACAvG,KAAA+c,KAAArB,UAAAgD,OAAAvB,EAAA5W,IAIAvG,KAAAqd,SAAAsB,oBAAA,SAAA3e,KAAAoe,WAAA,IAOAG,YAAA,WACAve,KAAAsd,cACAtd,KAAAid,iBAAAjd,KAAA4e,aACA5e,KAAAsd,aAAA,EACAtd,KAAAqd,SAAAhM,iBAAA,SAAArR,KAAAoe,WAAA,GAEApe,KAAAoe,UAAAF,gBAOAW,MAAA,WACA,IAAAnD,EAAA1b,KAAA+c,KAAArB,UACAyB,EAAAnd,KAAAmd,SAEAzB,EAAAoD,SAAA3B,EAAAhV,SAAAuT,EAAAoD,SAAA3B,EAAA4B,YACArD,EAAA2C,IAAAlB,EAAA4B,UACArD,EAAAgD,OAAAvB,EAAAhV,QACAnI,KAAAwd,SAAAxd,KAAAwd,QAAAwB,KAAAhf,QAOAif,IAAA,WACA,IAAAvD,EAAA1b,KAAA+c,KAAArB,UACAyB,EAAAnd,KAAAmd,QAEAzB,EAAAoD,SAAA3B,EAAA4B,YACArD,EAAAgD,OAAAvB,EAAA4B,UACArD,EAAA2C,IAAAlB,EAAAhV,QACAnI,KAAAud,OAAAvd,KAAAud,MAAAyB,KAAAhf,QAOAkf,IAAA,WACA,IAAAxD,EAAA1b,KAAA+c,KAAArB,UACAyB,EAAAnd,KAAAmd,QAEAzB,EAAAoD,SAAA3B,EAAA+B,OACAxD,EAAA2C,IAAAlB,EAAA+B,KACAxD,EAAAgD,OAAAvB,EAAAgC,QACAnf,KAAAyd,OAAAzd,KAAAyd,MAAAuB,KAAAhf,QAOAmf,OAAA,WACA,IAAAzD,EAAA1b,KAAA+c,KAAArB,UACAyB,EAAAnd,KAAAmd,QAEAzB,EAAAoD,SAAA3B,EAAAgC,UACAzD,EAAA2C,IAAAlB,EAAAgC,QACAzD,EAAAgD,OAAAvB,EAAA+B,KACAlf,KAAA0d,UAAA1d,KAAA0d,SAAAsB,KAAAhf,QAIAof,OAAA,WACA,IAAA1D,EAAA1b,KAAA+c,KAAArB,UACAyB,EAAAnd,KAAAmd,QAEAzB,EAAAoD,SAAA3B,EAAAiC,UACA1D,EAAA2C,IAAAlB,EAAAiC,QACA1D,EAAAgD,OAAAvB,EAAAkC,WACArf,KAAA2d,UAAA3d,KAAA2d,SAAAqB,KAAAhf,QAOAqf,UAAA,WACA,IAAA3D,EAAA1b,KAAA+c,KAAArB,UACAyB,EAAAnd,KAAAmd,QAEAzB,EAAAoD,SAAA3B,EAAAkC,aACA3D,EAAA2C,IAAAlB,EAAAkC,WACA3D,EAAAgD,OAAAvB,EAAAiC,QACApf,KAAA4d,aAAA5d,KAAA4d,YAAAoB,KAAAhf,QASA4e,WAAA,WACA,YAAArD,IAAAvb,KAAAqd,SAAAiC,YACAtf,KAAAqd,SAAAiC,iBACA/D,IAAAvb,KAAAqd,SAAAkC,UACAvf,KAAAqd,SAAAkC,WACA3M,SAAA+I,iBAAA/I,SAAAvO,KAAAmb,YAAA5M,SAAAvO,MAAAkb,WAQAE,kBAAA,WACA,OAAArT,OAAAsT,aACA9M,SAAA+I,gBAAAgE,cACA/M,SAAAvO,KAAAsb,cAQAC,yBAAA,SAAAC,GACA,OAAAC,KAAAC,IACAF,EAAAG,aACAH,EAAAF,eAQAM,0BAAA,WACA,OAAAjgB,KAAAqd,WAAAjR,QAAApM,KAAAqd,WAAAzK,SAAAvO,KACArE,KAAAyf,oBACAzf,KAAA4f,yBAAA5f,KAAAqd,WAQA6C,kBAAA,WACA,IAAA7b,EAAAuO,SAAAvO,KACAsX,EAAA/I,SAAA+I,gBAEA,OAAAmE,KAAAC,IACA1b,EAAA8b,aAAAxE,EAAAwE,aACA9b,EAAA2b,aAAArE,EAAAqE,aACA3b,EAAAsb,aAAAhE,EAAAgE,eASAS,iBAAA,SAAAP,GACA,OAAAC,KAAAC,IACAF,EAAAM,aACAN,EAAAG,aACAH,EAAAF,eAQAU,kBAAA,WACA,OAAArgB,KAAAqd,WAAAjR,QAAApM,KAAAqd,WAAAzK,SAAAvO,KACArE,KAAAkgB,oBACAlgB,KAAAogB,iBAAApgB,KAAAqd,WAQAiD,cAAA,SAAAC,GACA,IAAAC,EAAAD,EAAA,EACAE,EAAAF,EAAAvgB,KAAAigB,4BAAAjgB,KAAAqgB,oBAEA,OAAAG,GAAAC,GAQAC,kBAAA,SAAAH,EAAAI,GACA,OAAAb,KAAAc,IAAAL,EAAAvgB,KAAAid,mBAAAjd,KAAAkd,UAAAyD,IASAE,YAAA,SAAAN,EAAAG,GACA,IAAAI,EAAAP,EAAAvgB,KAAAid,iBACA8D,EAAAR,GAAAvgB,KAAAod,OAEA,OAAA0D,GAAAC,GAAAL,GASAM,UAAA,SAAAT,EAAAG,GACA,IAAAO,EAAAV,EAAAvgB,KAAAid,iBACA8D,EAAAR,GAAAvgB,KAAAod,OAEA,OAAA6D,GAAAP,GAAAK,GAMAhD,OAAA,WACA,IAAAwC,EAAAvgB,KAAA4e,aACAsC,EAAAX,EAAAvgB,KAAAid,iBAAA,YACAyD,EAAA1gB,KAAA0gB,kBAAAH,EAAAW,GAEAlhB,KAAAsgB,cAAAC,KAIAA,GAAAvgB,KAAAod,OACApd,KAAAkf,MAEAlf,KAAAmf,SAGAoB,EAAAvgB,KAAAyf,qBAAAzf,KAAAqgB,oBACArgB,KAAAof,SAGApf,KAAAqf,YAGArf,KAAA6gB,YAAAN,EAAAG,GACA1gB,KAAA6e,QAEA7e,KAAAghB,UAAAT,EAAAG,IACA1gB,KAAAif,MAGAjf,KAAAid,iBAAAsD,KAOAzD,EAAAE,SACAE,WACAL,GAAA,EACAD,KAAA,GAEAQ,OAAA,EACAC,SAAAjR,OACA+Q,SACAhV,OAAA,mBACA4W,SAAA,qBACAG,IAAA,gBACAC,OAAA,oBACAC,OAAA,mBACAC,UAAA,uBACAf,QAAA,aAGAxB,EAAAqB,eAAA,qBAAA3C,KAAAI,KAAAJ,EAAAC,MAAAD,EAAAE,UAEAoB","file":"js/feed.js","sourcesContent":["import http from \"@/http.js\";\n// import wx from \"weixin-js-sdk\";\n\nconst getOauth = url => {\n  return new Promise((resolove, reject) => {\n    http\n      .post(\n        \"socialite/wxconfig\",\n        {\n          url\n        },\n        {\n          validateStatus: s => s === 200\n        }\n      )\n      .then(({ data }) => {\n        resolove(data);\n      })\n      .catch(() => {\n        reject(new Error());\n      });\n  });\n};\n\nexport default {\n  getOauth\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/share.js","<template>\n  <article-card\n  :liked=\"liked\"\n  :loading=\"loading\"\n  @on-like=\"likeFeed\"\n  @on-share=\"shareFeed\"\n  @on-more=\"moreAction\"\n  @on-comment=\"commentFeed\"\n  >\n  <header slot=\"head\" class=\"m-box m-justify-bet m-aln-center\">\n    <div class=\"m-box m-flex-grow1 m-aln-center m-flex-base0\">\n      <svg class='m-style-svg m-svg-def' @click='goBack'>\n        <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#base-back\"></use>\n      </svg>\n    </div>\n    <div class=\"m-box-model m-flex-grow1 m-aln-center m-flex-base0 m-head-top-title\">\n      <div class=\"m-avatar-box small\">\n        <img :src=\"user.avatar\">\n      </div>\n    </div>\n    <div class=\"m-box m-flex-grow1 m-aln-center m-flex-base0 m-justify-end\">\n      <svg class='m-style-svg m-svg-def'>\n        <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#base-share\"></use>\n      </svg>\n    </div>\n  </header>\n  <!-- 内容 -->\n  <main class=\"m-flex-shrink1 m-flex-grow1 m-art m-main\">\n    <div class=\"m-art-body\">\n      <async-file\n        v-for=\"img in images\"\n        v-if=\"img.file\"\n        :key=\"img.file\"\n        :file=\"img.file\">\n        <img \n        slot-scope=\"props\"\n        v-if=\"props.src\"\n        :src=\"props.src\">\n        />\n      </async-file>\n      <p class=\"m-text-box\" v-html=\"replaceURI(feedContent)\"></p>\n    </div>\n    <div class=\"m-box m-aln-center m-justify-bet m-art-foot\">\n      <div class=\"m-flex-grow1 m-flex-shrink1 m-box m-aln-center m-art-like-list\">\n        <template v-if='likeCount > 0'>\n          <ul class=\"m-box m-flex-grow0 m-flex-shrink0\">\n            <li \n            :key=\"id\"\n            :style=\"{ zIndex: 5-index }\" \n            v-for=\"({user = {}, id}, index) in likes.slice(0, 5)\"\n            class=\"m-avatar-box tiny\"\n            :class=\"`m-avatar-box-${user.sex}`\">\n              <img :src=\"user.avatar\">\n            </li>\n          </ul>\n          <span>{{ likeCount | formatNum }}人点赞</span>\n        </template>\n      </div>\n      <div class=\"m-box-model m-aln-end m-art-info\">\n        <span>发布于{{ time | time2tips }}</span>\n        <span>{{ feed.feed_view_count || 0 | formatNum }}浏览</span>\n      </div>\n    </div>\n    <!-- todo 打赏功能 -->\n    <div class=\"m-box-model m-box-center m-box-center-a m-art-reward\">\n      <button class=\"m-art-rew-btn\" @click=\"rewardFeed\">打 赏</button>\n      <p class=\"m-art-rew-label\"><a href=\"javascript:;\">{{ reward.count | formatNum }}</a>人打赏，共<a href=\"javascript:;\">{{ ~~(reward.amount)/100 }}</a>元</p>\n      <ul class=\"m-box m-aln-center m-art-rew-list\">\n        <li \n        :key=\"rew.id\"\n        v-for=\"rew in rewardList\"\n        :class=\"`m-avatar-box-${rew.user.sex}`\"\n        class=\"m-flex-grow0 m-flex-shrink0 m-art-rew m-avatar-box tiny\">\n          <img :src=\"rew.user.avatar\">\n        </li>\n      </ul>\n    </div>\n  </main>\n  <!-- 评论列表 -->\n  <div class=\"m-box-model m-art-comments\" id=\"comment_list\">\n    <ul class=\"m-box m-aln-center m-art-comments-tabs\">\n      <li>{{ commentCount | formatNum }}条评论</li>\n    </ul>\n    <comment-item\n      @on-click=\"replyComment\"\n      v-for=\"(comment) in pinnedCom\"\n      :pinned=\"true\"\n      :key=\"`pinned-comment-${comment.id}`\"\n      :comment=\"comment\"/>\n    <comment-item\n      @on-click=\"replyComment\"\n      v-for=\"(comment) in comments\"\n      :key=\"comment.id\"\n      :comment=\"comment\"/>\n\n      <div class=\"m-box m-aln-center m-justify-center load-more-box\">\n        <span v-if=\"noMoreCom\" class=\"load-more-ph\">---没有更多---</span>\n        <span v-else class=\"load-more-btn\" @click.stop=\"fetchFeedComments(maxComId)\">\n          {{fetchComing ? \"加载中...\" : \"点击加载更多\"}}\n        </span>\n      </div>\n    </div>\n  </article-card>\n</template>\n<script>\nimport bus from \"@/bus.js\";\nimport Wx from \"weixin-js-sdk\";\nimport wx from \"@/util/share.js\";\nimport ArticleCard from \"@/page/article/ArticleCard.vue\";\nimport CommentItem from \"@/page/article/ArticleComment.vue\";\n\nexport default {\n  name: \"feed-detail\",\n  components: {\n    ArticleCard,\n    CommentItem\n  },\n  data() {\n    return {\n      oldID: 0,\n      feed: {},\n      loading: true,\n      fetching: false,\n\n      comments: [],\n      pinnedCom: [],\n      rewardList: [],\n\n      fetchComing: false,\n      noMoreCom: false,\n      maxComId: 0,\n      config: {\n        appid: \"\",\n        signature: \"\",\n        timestamp: \"\",\n        noncestr: \"\"\n      },\n      appList: [\n        \"onMenuShareQZone\",\n        \"onMenuShareQQ\",\n        \"onMenuShareAppMessage\",\n        \"onMenuShareTimeline\"\n      ],\n      share: {\n        title: \"\",\n        desc: \"\",\n        link: \"\"\n      }\n    };\n  },\n  computed: {\n    feedID() {\n      return this.$route.params.feedID;\n    },\n    CURRENTUSER() {\n      return this.$store.state.CURRENTUSER;\n    },\n    user() {\n      const { user } = this.feed;\n      return user && user.id === this.feed.user_id ? user : {};\n    },\n    isMine() {\n      return this.feed.user_id === this.CURRENTUSER.id;\n    },\n    likes: {\n      get() {\n        return this.feed.likes || [];\n      },\n      set(val) {\n        this.feed.likes = val;\n      }\n    },\n    liked: {\n      get() {\n        return !!this.feed.has_like;\n      },\n      set(val) {\n        this.feed.has_like = val;\n      }\n    },\n    likeCount: {\n      get() {\n        return this.feed.like_count || 0;\n      },\n      set(val) {\n        this.feed.like_count = ~~val;\n      }\n    },\n    commentCount: {\n      get() {\n        return this.feed.feed_comment_count || 0;\n      },\n      set(val) {\n        val > 0, (this.feed.feed_comment_count = val);\n      }\n    },\n    reward() {\n      return this.feed.reward || {};\n    },\n    images() {\n      return this.feed.images || [];\n    },\n    time() {\n      return this.feed.created_at || \"\";\n    },\n    feedContent() {\n      return this.feed.feed_content || \"\";\n    },\n    // 分享第一张图片\n    firstImage() {\n      let images = this.images;\n      if (!images.length) {\n        return \"\";\n      }\n      const file = images[0] || {};\n      return (\n        this.$http.defaults.baseURL + \"/files/\" + file.file + \"?w=300&h=300\"\n      );\n    },\n    isWechat() {\n      return this.$store.state.BROWSER.isWechat;\n    }\n  },\n  methods: {\n    replaceURI(str) {\n      const reg = /(https?|http|ftp|file):\\/\\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/g;\n      return str\n        ? str.replace(\n            reg,\n            link =>\n              `<a class=\"m-art-links\" href=\"${link}\" target=\"__blank\">#网页链接#</a>`\n          )\n        : \"\";\n    },\n    shareSuccess() {\n      this.$Message.success(\"分享成功\");\n    },\n    shareCancel() {\n      this.$Message.success(\"取消分享\");\n    },\n    fetchFeed() {\n      if (this.fetching) return;\n      this.fetching = true;\n      this.$http\n        .get(`/feeds/${this.feedID}`)\n        .then(({ data = {} }) => {\n          this.feed = data;\n          this.share.title = data.user.name + \"的动态\";\n          this.share.desc = data.feed_content;\n          this.oldID = this.feedID;\n          this.fetching = false;\n          this.fetchFeedComments();\n          this.fetchRewards();\n          if (this.isWechat) {\n            this.getWeChatConfig();\n          }\n        })\n        .catch(() => {\n          this.$router.back();\n        });\n    },\n    fetchFeedComments(after = 0) {\n      if (this.fetchComing) return;\n      this.fetchComing = true;\n      this.$http\n        .get(`/feeds/${this.feedID}/comments`, {\n          params: {\n            after\n          }\n        })\n        .then(({ data: { pinneds = [], comments = [] } }) => {\n          pinneds &&\n            pinneds.length &&\n            (this.pinnedCom = after ? [...this.pinneds, ...pinneds] : pinneds);\n          comments && comments.length\n            ? ((this.comments = after\n                ? [...this.comments, ...comments]\n                : comments),\n              (this.maxComId = comments[comments.length - 1].id))\n            : (this.noMoreCom = true);\n          this.$nextTick(() => {\n            this.fetchComing = false;\n            this.loading = false;\n          });\n        })\n        .catch(() => {\n          this.loading = false;\n          this.fetchComing = false;\n        });\n    },\n    fetchRewards() {\n      this.$http\n        .get(`/feeds/${this.feedID}/rewards`, {\n          params: { limit: 10 }\n        })\n        .then(({ data = [] }) => {\n          console.log(data);\n          this.rewardList = data;\n        });\n    },\n    rewardFeed() {\n      bus.$emit(\"reward:feed\", this.feedID);\n    },\n    likeFeed() {\n      const method = this.liked ? \"delete\" : \"post\";\n      const url = this.liked\n        ? `/feeds/${this.feedID}/unlike`\n        : `/feeds/${this.feedID}/like`;\n      if (this.fetching) return;\n      this.fetching = true;\n      this.$http({\n        method,\n        url,\n        validataStatus: s => s === 201 || s === 204\n      })\n        .then(() => {\n          method === \"post\"\n            ? ((this.liked = true),\n              (this.likeCount += 1),\n              this.likes.length < 5 &&\n                (this.likes = [\n                  ...this.likes,\n                  {\n                    user: this.CURRENTUSER,\n                    id: new Date().getTime(),\n                    user_id: this.CURRENTUSER.id\n                  }\n                ]))\n            : ((this.liked = false),\n              (this.likeCount -= 1),\n              (this.likes = this.likes.filter(like => {\n                return like.user_id !== this.CURRENTUSER.id;\n              })));\n\n          this.fetching = false;\n        })\n        .catch(() => {\n          this.fetching = false;\n        });\n    },\n    commentFeed() {\n      bus.$emit(\"commentInput\", {\n        onOk: text => {\n          this.sendComment({ body: text });\n        }\n      });\n    },\n    shareFeed() {\n      if (this.isWechat) {\n        this.$Message.success(\"请使用微信自带分享😳\");\n        return;\n      }\n\n      this.$Message.success(\"加紧开发中...😳\");\n    },\n    moreAction() {\n      const defaultActions = [\n        {\n          text: \"收藏\",\n          method() {\n            console.log(\"收藏\");\n          }\n        }\n      ];\n\n      const actions = this.isMine\n        ? [\n            {\n              text: \"申请文章置顶\",\n              method: () => {\n                this.$Message.info(\"置顶功能开发中，敬请期待\");\n              }\n            },\n            {\n              text: \"删除\",\n              method: () => {\n                this.$Message.info(\"资讯删除功能开发中，敬请期待\");\n              }\n            }\n          ]\n        : [\n            {\n              text: \"举报\",\n              method: () => {\n                this.$Message.info(\"举报功能开发中，敬请期待\");\n              }\n            }\n          ];\n      bus.$emit(\"actionSheet\", [...defaultActions, ...actions], \"取消\");\n    },\n    getWeChatConfig() {\n      const url = window.location.origin + this.$route.fullPath;\n      this.share.link = url;\n      if (this.config.appid === \"\") {\n        wx.getOauth(url).then(res => {\n          this.config.timestamp = res.timestamp || \"\";\n          this.config.signature = res.signature || \"\";\n          this.config.appid = res.appid || \"\";\n          this.config.noncestr = res.noncestr || \"\";\n          Wx.config({\n            debug: false,\n            appId: this.config.appid,\n            timestamp: this.config.timestamp,\n            signature: this.config.signature,\n            nonceStr: this.config.noncestr,\n            jsApiList: this.appList\n          });\n          Wx.ready(() => {});\n          Wx.error(() => {\n            // console.log(res);\n          });\n          Wx.onMenuShareTimeline({\n            title: this.share.title,\n            desc: this.share.desc,\n            link: this.share.link,\n            imgUrl: this.firstImage,\n            success: () => {\n              this.shareSuccess();\n            },\n            cancel: () => {\n              this.shareCancel();\n            }\n          });\n          Wx.onMenuShareAppMessage({\n            title: this.share.title,\n            desc: this.share.desc,\n            link: this.share.link,\n            imgUrl: this.firstImage,\n            success: () => {\n              this.shareSuccess();\n            },\n            cancel: () => {\n              this.shareCancel();\n            }\n          });\n          Wx.onMenuShareQQ({\n            title: this.share.title,\n            desc: this.share.desc,\n            link: this.share.link,\n            imgUrl: this.firstImage,\n            success: () => {\n              this.shareSuccess();\n            },\n            cancel: () => {\n              this.shareCancel();\n            }\n          });\n        });\n      } else {\n        this.$Message.success(\"请使用微信自带分享😳\");\n        Wx.config({\n          debug: false,\n          appId: this.config.appid,\n          timestamp: this.config.timestamp,\n          signature: this.config.signature,\n          nonceStr: this.config.noncestr,\n          jsApiList: this.appList\n        });\n\n        Wx.ready(() => {}),\n          Wx.error(() => {\n            // console.log(res);\n          });\n        Wx.onMenuShareTimeline({\n          title: this.share.title,\n          desc: this.share.desc,\n          link: this.share.link,\n          imgUrl: this.firstImage,\n          success: () => {\n            this.shareSuccess();\n          },\n          cancel: () => {\n            this.shareCancel();\n          }\n        });\n        Wx.onMenuShareAppMessage({\n          title: this.share.title,\n          desc: this.share.desc,\n          link: this.share.link,\n          imgUrl: this.firstImage,\n          success: () => {\n            this.shareSuccess();\n          },\n          cancel: () => {\n            this.shareCancel();\n          }\n        });\n        Wx.onMenuShareQQ({\n          title: this.share.title,\n          desc: this.share.desc,\n          link: this.share.link,\n          imgUrl: this.firstImage,\n          success: () => {\n            this.shareSuccess();\n          },\n          cancel: () => {\n            this.shareCancel();\n          }\n        });\n      }\n    },\n    replyComment(uid, uname) {\n      uid === this.CURRENTUSER.id\n        ? bus.$emit(\n            \"actionSheet\",\n            [\n              {\n                text: \"申请评论置顶\",\n                method: () => {\n                  this.$Message.info(\"置顶功能开发中，敬请期待\");\n                }\n              },\n              {\n                text: \"删除评论\",\n                method: () => {\n                  this.$Message.info(\"评论删除功能开发中，敬请期待\");\n                }\n              }\n            ],\n            \"取消\"\n          )\n        : bus.$emit(\"commentInput\", {\n            placeholder: `回复： ${uname}`,\n            onOk: text => {\n              this.sendComment({ reply_user: uid, body: text });\n            }\n          });\n    },\n    sendComment({ reply_user: replyUser, body }) {\n      const params = {};\n      if (body && body.length > 0) {\n        params.body = body;\n        replyUser && (params[\"reply_user\"] = replyUser);\n        this.$http\n          .post(`/feeds/${this.feedID}/comments`, params, {\n            validataStatus: s => s === 201\n          })\n          .then(() => {\n            this.$Message.success(\"评论成功\");\n            bus.$emit(\"commentInput:close\", true);\n          })\n          .catch(() => {\n            this.$Message.error(\"评论失败\");\n            bus.$emit(\"commentInput:close\", true);\n          });\n      } else {\n        this.$Message.error(\"评论内容不能为空\");\n      }\n    }\n  },\n  activated() {\n    if (this.feedID) {\n      this.feedID !== this.oldID\n        ? this.fetchFeed()\n        : setTimeout(() => {\n            this.loading = false;\n          }, 600);\n    }\n  },\n  deactivated() {\n    this.loading = true;\n    this.share = {\n      title: \"\",\n      desc: \"\",\n      link: \"\"\n    };\n    this.config = {\n      appid: \"\",\n      timestamp: 0,\n      noncestr: \"\",\n      signature: \"\"\n    };\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/page/feed/feedDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article-card',{attrs:{\"liked\":_vm.liked,\"loading\":_vm.loading},on:{\"on-like\":_vm.likeFeed,\"on-share\":_vm.shareFeed,\"on-more\":_vm.moreAction,\"on-comment\":_vm.commentFeed}},[_c('header',{staticClass:\"m-box m-justify-bet m-aln-center\",attrs:{\"slot\":\"head\"},slot:\"head\"},[_c('div',{staticClass:\"m-box m-flex-grow1 m-aln-center m-flex-base0\"},[_c('svg',{staticClass:\"m-style-svg m-svg-def\",on:{\"click\":_vm.goBack}},[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#base-back\"}})])]),_c('div',{staticClass:\"m-box-model m-flex-grow1 m-aln-center m-flex-base0 m-head-top-title\"},[_c('div',{staticClass:\"m-avatar-box small\"},[_c('img',{attrs:{\"src\":_vm.user.avatar}})])]),_c('div',{staticClass:\"m-box m-flex-grow1 m-aln-center m-flex-base0 m-justify-end\"},[_c('svg',{staticClass:\"m-style-svg m-svg-def\"},[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#base-share\"}})])])]),_c('main',{staticClass:\"m-flex-shrink1 m-flex-grow1 m-art m-main\"},[_c('div',{staticClass:\"m-art-body\"},[_vm._l((_vm.images),function(img){return (img.file)?_c('async-file',{key:img.file,attrs:{\"file\":img.file},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return (props.src)?_c('img',{attrs:{\"src\":props.src}}):_vm._e()}}])},[_vm._v(\"\\n      />\\n    \")]):_vm._e()}),_c('p',{staticClass:\"m-text-box\",domProps:{\"innerHTML\":_vm._s(_vm.replaceURI(_vm.feedContent))}})],2),_c('div',{staticClass:\"m-box m-aln-center m-justify-bet m-art-foot\"},[_c('div',{staticClass:\"m-flex-grow1 m-flex-shrink1 m-box m-aln-center m-art-like-list\"},[(_vm.likeCount > 0)?[_c('ul',{staticClass:\"m-box m-flex-grow0 m-flex-shrink0\"},_vm._l((_vm.likes.slice(0, 5)),function(ref,index){\nvar user = ref.user; if ( user === void 0 ) user = {};\nvar id = ref.id;\nreturn _c('li',{key:id,staticClass:\"m-avatar-box tiny\",class:(\"m-avatar-box-\" + (user.sex)),style:({ zIndex: 5-index })},[_c('img',{attrs:{\"src\":user.avatar}})])})),_c('span',[_vm._v(_vm._s(_vm._f(\"formatNum\")(_vm.likeCount))+\"人点赞\")])]:_vm._e()],2),_c('div',{staticClass:\"m-box-model m-aln-end m-art-info\"},[_c('span',[_vm._v(\"发布于\"+_vm._s(_vm._f(\"time2tips\")(_vm.time)))]),_c('span',[_vm._v(_vm._s(_vm._f(\"formatNum\")(_vm.feed.feed_view_count || 0))+\"浏览\")])])]),_c('div',{staticClass:\"m-box-model m-box-center m-box-center-a m-art-reward\"},[_c('button',{staticClass:\"m-art-rew-btn\",on:{\"click\":_vm.rewardFeed}},[_vm._v(\"打 赏\")]),_c('p',{staticClass:\"m-art-rew-label\"},[_c('a',{attrs:{\"href\":\"javascript:;\"}},[_vm._v(_vm._s(_vm._f(\"formatNum\")(_vm.reward.count)))]),_vm._v(\"人打赏，共\"),_c('a',{attrs:{\"href\":\"javascript:;\"}},[_vm._v(_vm._s(~~(_vm.reward.amount)/100))]),_vm._v(\"元\")]),_c('ul',{staticClass:\"m-box m-aln-center m-art-rew-list\"},_vm._l((_vm.rewardList),function(rew){return _c('li',{key:rew.id,staticClass:\"m-flex-grow0 m-flex-shrink0 m-art-rew m-avatar-box tiny\",class:(\"m-avatar-box-\" + (rew.user.sex))},[_c('img',{attrs:{\"src\":rew.user.avatar}})])}))])]),_c('div',{staticClass:\"m-box-model m-art-comments\",attrs:{\"id\":\"comment_list\"}},[_c('ul',{staticClass:\"m-box m-aln-center m-art-comments-tabs\"},[_c('li',[_vm._v(_vm._s(_vm._f(\"formatNum\")(_vm.commentCount))+\"条评论\")])]),_vm._l((_vm.pinnedCom),function(comment){return _c('comment-item',{key:(\"pinned-comment-\" + (comment.id)),attrs:{\"pinned\":true,\"comment\":comment},on:{\"on-click\":_vm.replyComment}})}),_vm._l((_vm.comments),function(comment){return _c('comment-item',{key:comment.id,attrs:{\"comment\":comment},on:{\"on-click\":_vm.replyComment}})}),_c('div',{staticClass:\"m-box m-aln-center m-justify-center load-more-box\"},[(_vm.noMoreCom)?_c('span',{staticClass:\"load-more-ph\"},[_vm._v(\"---没有更多---\")]):_c('span',{staticClass:\"load-more-btn\",on:{\"click\":function($event){$event.stopPropagation();_vm.fetchFeedComments(_vm.maxComId)}}},[_vm._v(\"\\n        \"+_vm._s(_vm.fetchComing ? \"加载中...\" : \"点击加载更多\")+\"\\n      \")])])],2)])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9834b7b2\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/feed/feedDetail.vue\n// module id = null\n// module chunks = ","/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/JsonLeex/plus-component-h5/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./feedDetail.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/JsonLeex/plus-component-h5/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./feedDetail.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9834b7b2\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./feedDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/feed/feedDetail.vue\n// module id = null\n// module chunks = ","<template>\n  <transition>\n    <div class=\"m-wrapper m-wbox\">\n      <div class=\"m-box-model m-art-card\">\n        <div ref=\"head\" class=\"m-box-model m-justify-center m-pos-f m-head-top m-main m-bb1 m-lim-width\">\n          <slot name='head'>\n            <header class=\"m-box m-justify-bet m-aln-center\">\n              <div class=\"m-box m-flex-grow1 m-aln-center m-flex-base0\">\n                <svg class='m-style-svg m-svg-def' @click='goback'>\n                  <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#base-back\"></use>\n                </svg>\n              </div>\n              <div class=\"m-box-model m-flex-grow1 m-aln-center m-flex-base0 m-head-top-title\">资讯详情</div>\n              <div class=\"m-box m-flex-grow1 m-aln-center m-flex-base0 m-justify-end\">\n                <svg class='m-style-svg m-svg-def'>\n                  <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#base-share\"></use>\n                </svg>\n              </div>\n            </header>\n          </slot>\n        </div>\n        <div v-if=\"loading\" class=\"m-spinner pos-f\">\n          <div></div>\n          <div></div>\n        </div>\n        <main class=\"m-lim-width m-box-model m-art-card-main mt90\">\n          <slot></slot>\n        </main>\n        <footer ref=\"foot\" class=\"m-pos-f m-box m-aln-center m-justify-aro m-bt1 m-art-card-foot\">\n          <slot name='foot'>\n            <a class=\"m-box-model m-aln-center\" @click.prevent=\"handelLike\">\n              <svg class='m-style-svg m-svg-def'>\n                <use :xlink:href=\"liked ? '#feed-like' :'#feed-unlike'\"></use>\n              </svg>\n              <span>喜欢</span>\n            </a>\n            <a class=\"m-box-model m-aln-center\"  @click.prevent=\"handelComment\">\n              <svg class='m-style-svg m-svg-def'>\n                <use xlink:href=\"#feed-comment\"></use>\n              </svg>\n              <span>评论</span>\n            </a>    \n            <a class=\"m-box-model m-aln-center\" @click.prevent=\"handelShare\">\n              <svg class='m-style-svg m-svg-def'>\n                <use xlink:href=\"#base-share\"></use>\n              </svg>\n              <span>分享</span>\n            </a>    \n            <a class=\"m-box-model m-aln-center\" @click.prevent=\"handelMore\">\n              <svg class='m-style-svg m-svg-def'>\n                <use xlink:href=\"#feed-more\"></use>\n              </svg>\n              <span>更多</span>\n            </a>\n          </slot>\n        </footer>\n      </div>\n    </div>\n  </transition>\n</template>\n<script>\nimport HeadRoom from \"headroom.js\";\nexport default {\n  name: \"article-card\",\n  props: {\n    loading: {\n      type: Boolean,\n      default: true\n    },\n    liked: {\n      type: Boolean,\n      default: false\n    }\n  },\n  methods: {\n    handelLike() {\n      this.$emit(\"on-like\");\n    },\n    handelComment() {\n      this.$emit(\"on-comment\");\n    },\n    handelShare() {\n      this.$emit(\"on-share\");\n    },\n    handelMore() {\n      this.$emit(\"on-more\");\n    },\n    goback() {\n      this.$router.go(-1);\n    }\n  },\n  mounted() {\n    this.headroom = new HeadRoom(this.$refs.head, {\n      tolerance: 5,\n      offset: 50,\n      classes: {\n        initial: \"headroom-head\",\n        pinned: \"headroom--headShow\",\n        unpinned: \"headroom--headHide\"\n      }\n    });\n    this.footroom = new HeadRoom(this.$refs.foot, {\n      tolerance: 5,\n      offset: 50,\n      classes: {\n        initial: \"headroom-foot\",\n        pinned: \"headroom--footShow\",\n        unpinned: \"headroom--footHide\"\n      }\n    });\n    this.headroom.init();\n    this.footroom.init();\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/page/article/ArticleCard.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',[_c('div',{staticClass:\"m-wrapper m-wbox\"},[_c('div',{staticClass:\"m-box-model m-art-card\"},[_c('div',{ref:\"head\",staticClass:\"m-box-model m-justify-center m-pos-f m-head-top m-main m-bb1 m-lim-width\"},[_vm._t(\"head\",[_c('header',{staticClass:\"m-box m-justify-bet m-aln-center\"},[_c('div',{staticClass:\"m-box m-flex-grow1 m-aln-center m-flex-base0\"},[_c('svg',{staticClass:\"m-style-svg m-svg-def\",on:{\"click\":_vm.goback}},[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#base-back\"}})])]),_c('div',{staticClass:\"m-box-model m-flex-grow1 m-aln-center m-flex-base0 m-head-top-title\"},[_vm._v(\"资讯详情\")]),_c('div',{staticClass:\"m-box m-flex-grow1 m-aln-center m-flex-base0 m-justify-end\"},[_c('svg',{staticClass:\"m-style-svg m-svg-def\"},[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#base-share\"}})])])])])],2),(_vm.loading)?_c('div',{staticClass:\"m-spinner pos-f\"},[_c('div'),_c('div')]):_vm._e(),_c('main',{staticClass:\"m-lim-width m-box-model m-art-card-main mt90\"},[_vm._t(\"default\")],2),_c('footer',{ref:\"foot\",staticClass:\"m-pos-f m-box m-aln-center m-justify-aro m-bt1 m-art-card-foot\"},[_vm._t(\"foot\",[_c('a',{staticClass:\"m-box-model m-aln-center\",on:{\"click\":function($event){$event.preventDefault();_vm.handelLike($event)}}},[_c('svg',{staticClass:\"m-style-svg m-svg-def\"},[_c('use',{attrs:{\"xlink:href\":_vm.liked ? '#feed-like' :'#feed-unlike'}})]),_c('span',[_vm._v(\"喜欢\")])]),_c('a',{staticClass:\"m-box-model m-aln-center\",on:{\"click\":function($event){$event.preventDefault();_vm.handelComment($event)}}},[_c('svg',{staticClass:\"m-style-svg m-svg-def\"},[_c('use',{attrs:{\"xlink:href\":\"#feed-comment\"}})]),_c('span',[_vm._v(\"评论\")])]),_c('a',{staticClass:\"m-box-model m-aln-center\",on:{\"click\":function($event){$event.preventDefault();_vm.handelShare($event)}}},[_c('svg',{staticClass:\"m-style-svg m-svg-def\"},[_c('use',{attrs:{\"xlink:href\":\"#base-share\"}})]),_c('span',[_vm._v(\"分享\")])]),_c('a',{staticClass:\"m-box-model m-aln-center\",on:{\"click\":function($event){$event.preventDefault();_vm.handelMore($event)}}},[_c('svg',{staticClass:\"m-style-svg m-svg-def\"},[_c('use',{attrs:{\"xlink:href\":\"#feed-more\"}})]),_c('span',[_vm._v(\"更多\")])])])],2)])])])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1682b8c6\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/article/ArticleCard.vue\n// module id = null\n// module chunks = ","/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/JsonLeex/plus-component-h5/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ArticleCard.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/JsonLeex/plus-component-h5/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ArticleCard.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1682b8c6\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ArticleCard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/article/ArticleCard.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"m-lim-width m-art-comment\">\n    <div class=\"m-box m-art-comment-wrap\">\n      <avatar :user=\"user\"></avatar>\n      <section class=\"m-box-model m-flex-grow1 m-flex-shrink1 m-art-comment-body\">\n        <header class=\"m-box m-aln-center m-justify-bet m-art-comment-usr\">\n          <h4 class=\"m-flex-grow1 m-flex-shrink1\">{{ user.name }}</h4>\n          <div class=\"m-box m-aln-center\">\n            <span v-if=\"pinned\" class=\"m-art-comment-icon-top\">置顶</span>\n            <span>{{ time | time2tips }}</span>\n          </div>\n        </header>\n        <article\n        class=\"m-text-box m-art-comment-con\"\n        :class=\"{maxh: !isShowAll}\"\n        @click=\"handelClick\">\n          <template v-if=\"replyUser\">\n            <span class=\"m-art-comment-rep\">\n              回复<router-link :to='`/user/${replyUser.id}`'>{{ replyUser.name }}</router-link>：\n            </span>\n          </template>\n          {{ body }}\n          <span @click.stop=\"isShowAll = !isShowAll\" v-show=\"bodyLength > 60 && !isShowAll\" class=\"m-text-more\"> >>更多</span>\n        </article>\n      </section>\n    </div>\n  </div>\n</template>\n<script>\n/**\n * 字符串长度计算(仅获取中文字符字数)\n * @author jsonleex <jsonlseex@163.com>\n * 按 4个英文字符 = 1个中文字符 计算\n */\nfunction strLength(str) {\n  let totalLength = 0;\n  let i = 0;\n  let charCode;\n  for (; i < str.length; i++) {\n    charCode = str.charCodeAt(i);\n    if (charCode < 0x007f) {\n      totalLength = totalLength + 0.25;\n    } else if (charCode >= 0x0080 && charCode <= 0x07ff) {\n      totalLength += 1;\n    } else if (charCode >= 0x0800 && charCode <= 0xffff) {\n      totalLength += 1.5;\n    }\n  }\n  return totalLength;\n}\nexport default {\n  name: \"comment-item\",\n  props: {\n    comment: null,\n    pinned: Boolean\n  },\n  data() {\n    return {\n      showAll: false\n    };\n  },\n  computed: {\n    isShowAll: {\n      get() {\n        return this.bodyLength < 60 || this.showAll;\n      },\n      set(val) {\n        this.showAll = val;\n      }\n    },\n    user() {\n      const { user } = this.comment;\n      return user && user.id ? user : {};\n    },\n    replyUser() {\n      const { reply } = this.comment;\n      return reply && reply.id ? reply : null;\n    },\n    body() {\n      return this.comment.body || \"\";\n    },\n    bodyLength() {\n      return strLength(this.body);\n    },\n    time() {\n      return this.comment.created_at || \"\";\n    }\n  },\n  methods: {\n    handelClick() {\n      if (!this.isShowAll) return (this.isShowAll = !this.isShowAll);\n      this.$emit(\"on-click\", this.user.id, this.user.name, this.comment.id);\n    }\n  },\n  mounted() {\n    this.$store.commit(\"SAVE_USER\", this.user);\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/page/article/ArticleComment.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-lim-width m-art-comment\"},[_c('div',{staticClass:\"m-box m-art-comment-wrap\"},[_c('avatar',{attrs:{\"user\":_vm.user}}),_c('section',{staticClass:\"m-box-model m-flex-grow1 m-flex-shrink1 m-art-comment-body\"},[_c('header',{staticClass:\"m-box m-aln-center m-justify-bet m-art-comment-usr\"},[_c('h4',{staticClass:\"m-flex-grow1 m-flex-shrink1\"},[_vm._v(_vm._s(_vm.user.name))]),_c('div',{staticClass:\"m-box m-aln-center\"},[(_vm.pinned)?_c('span',{staticClass:\"m-art-comment-icon-top\"},[_vm._v(\"置顶\")]):_vm._e(),_c('span',[_vm._v(_vm._s(_vm._f(\"time2tips\")(_vm.time)))])])]),_c('article',{staticClass:\"m-text-box m-art-comment-con\",class:{maxh: !_vm.isShowAll},on:{\"click\":_vm.handelClick}},[(_vm.replyUser)?[_c('span',{staticClass:\"m-art-comment-rep\"},[_vm._v(\"\\n            回复\"),_c('router-link',{attrs:{\"to\":(\"/user/\" + (_vm.replyUser.id))}},[_vm._v(_vm._s(_vm.replyUser.name))]),_vm._v(\"：\\n          \")],1)]:_vm._e(),_vm._v(\"\\n        \"+_vm._s(_vm.body)+\"\\n        \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.bodyLength > 60 && !_vm.isShowAll),expression:\"bodyLength > 60 && !isShowAll\"}],staticClass:\"m-text-more\",on:{\"click\":function($event){$event.stopPropagation();_vm.isShowAll = !_vm.isShowAll}}},[_vm._v(\" >>更多\")])],2)])],1)])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7dc9842e\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/article/ArticleComment.vue\n// module id = null\n// module chunks = ","/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/JsonLeex/plus-component-h5/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ArticleComment.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/JsonLeex/plus-component-h5/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ArticleComment.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7dc9842e\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ArticleComment.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/article/ArticleComment.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <nav class=\"m-box m-head-top m-lim-width m-pos-f m-main m-bb1\">\n      <ul class=\"m-box m-flex-grow1 m-aln-center m-justify-center m-flex-base0 m-head-nav\">\n        <router-link tag=\"li\" to=\"/feed/new\" active-class=\"active\" exact>\n          <a>最新</a>\n        </router-link>\n        <router-link tag=\"li\" to=\"/feed/hot\" active-class=\"active\" exact>\n          <a>热门</a>\n        </router-link>\n        <router-link tag=\"li\" to=\"/feed/follow\" active-class=\"active\" exact>\n          <a>关注</a>\n        </router-link>\n      </ul>\n    </nav>\n    <load-more \n      class=\"p-feed-main\"\n      :onRefresh='onRefresh'\n      :onLoadMore='onLoadMore'\n      ref='loadmore'\n      >\n      <ul>\n        <li v-if=\"feed.id\" v-for=\"feed in pinned\" :key=\"`pinned-feed-${feed_type}-${feed.id}`\">\n          <feed-card :feed=\"feed\" :pinned=\"true\" />\n        </li>\n        <li v-if=\"feed.id\" v-for=\"feed in feeds\" :key=\"`feed-${feed_type}-${feed.id}`\">\n          <feed-card :feed=\"feed\" />\n        </li>\n      </ul>\n    </load-more>\n    <foot-guide></foot-guide>\n  </div>\n</template>\n<script>\nimport { oneOf } from \"../../util/\";\nimport FootGuide from \"@/components/FootGuide\";\nimport FeedCard from \"@/components/FeedCard/FeedCard.vue\";\n\n/* 有效类型 */\nconst types = [\"new\", \"hot\", \"follow\"];\n\nexport default {\n  name: \"feedIndex\",\n  components: {\n    FeedCard,\n    // FeedItem,\n    FootGuide\n  },\n  data() {\n    return {\n      feed_type: this.$route.params.type,\n\n      ad: [], // 广告\n      feeds: [], // 动态\n      pinned: [], // 置顶\n\n      maxId: 0\n    };\n  },\n  watch: {\n    $route({ params: { type } }) {\n      /* 判断路由是否变化 */\n      if (oneOf(type, types) && type !== this.feed_type) {\n        this.ad = [];\n        this.feeds = [];\n        this.pinned = [];\n        this.feed_type = type;\n        this.$nextTick(this.$refs.loadmore.beforeRefresh);\n      }\n    }\n  },\n  activated() {\n    // this.ad = [];\n    // this.feeds = [];\n    // this.pinned = [];\n    // this.$nextTick(this.$refs.loadmore.beforeRefresh);\n  },\n  methods: {\n    async onRefresh() {\n      const { data: { ad, feeds, pinned } = {} } = await this.$http.get(\n        \"/feeds\",\n        {\n          params: {\n            type: this.feed_type,\n            limit: 15\n          }\n        }\n      );\n\n      this.ad = ad ? [...ad] : [];\n      this.feeds = feeds ? [...feeds] : [];\n      this.pinned = pinned ? [...pinned] : [];\n      this.maxId = feeds.length ? feeds[feeds.length - 1].id : 0;\n      this.$refs.loadmore.topEnd(!(feeds.length < 15));\n    },\n    async onLoadMore() {\n      const params = {\n        type: this.feed_type,\n        limit: 15,\n        after: this.maxId\n      };\n\n      const { data: { ad, feeds, pinned } = {} } = await this.$http.get(\n        \"/feeds\",\n        { params }\n      );\n      this.ad = ad ? [...this.ad, ...ad] : this.ad;\n      this.feeds = feeds ? [...this.feeds, ...feeds] : this.feeds;\n      this.pinned = pinned ? [...this.pinned, ...pinned] : this.pinned;\n      this.maxId = feeds.length ? feeds[feeds.length - 1].id : this.maxId;\n      this.$refs.loadmore.bottomEnd(feeds.length < 15);\n    }\n  },\n  beforeRouteEnter({ params: { type } }, from, next) {\n    types.indexOf(type) > -1 ? next() : next({ path: \"/feed/new\" });\n  },\n  beforeDestroy() {\n    this.$store.commit(\"SAVE_FEED_TYPE\", \"\");\n  }\n};\n</script>\n\n<style scoped>\n.p-feed-main {\n  padding-top: 90px;\n}\n.p-feed-main li + li {\n  margin-top: 10px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/feed/feed.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{staticClass:\"m-box m-head-top m-lim-width m-pos-f m-main m-bb1\"},[_c('ul',{staticClass:\"m-box m-flex-grow1 m-aln-center m-justify-center m-flex-base0 m-head-nav\"},[_c('router-link',{attrs:{\"tag\":\"li\",\"to\":\"/feed/new\",\"active-class\":\"active\",\"exact\":\"\"}},[_c('a',[_vm._v(\"最新\")])]),_c('router-link',{attrs:{\"tag\":\"li\",\"to\":\"/feed/hot\",\"active-class\":\"active\",\"exact\":\"\"}},[_c('a',[_vm._v(\"热门\")])]),_c('router-link',{attrs:{\"tag\":\"li\",\"to\":\"/feed/follow\",\"active-class\":\"active\",\"exact\":\"\"}},[_c('a',[_vm._v(\"关注\")])])],1)]),_c('load-more',{ref:\"loadmore\",staticClass:\"p-feed-main\",attrs:{\"onRefresh\":_vm.onRefresh,\"onLoadMore\":_vm.onLoadMore}},[_c('ul',[_vm._l((_vm.pinned),function(feed){return (feed.id)?_c('li',{key:(\"pinned-feed-\" + _vm.feed_type + \"-\" + (feed.id))},[_c('feed-card',{attrs:{\"feed\":feed,\"pinned\":true}})],1):_vm._e()}),_vm._l((_vm.feeds),function(feed){return (feed.id)?_c('li',{key:(\"feed-\" + _vm.feed_type + \"-\" + (feed.id))},[_c('feed-card',{attrs:{\"feed\":feed}})],1):_vm._e()})],2)]),_c('foot-guide')],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3296644c\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/feed/feed.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true,\\\"minimize\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3296644c\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./feed.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/JsonLeex/plus-component-h5/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./feed.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/JsonLeex/plus-component-h5/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./feed.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3296644c\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./feed.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3296644c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/feed/feed.vue\n// module id = null\n// module chunks = ","! function (e, n) {\n  module.exports = n(e)\n}(window, function (e, n) {\n  function i(n, i, t) {\n    e.WeixinJSBridge ? WeixinJSBridge.invoke(n, o(i), function (e) {\n      c(n, e, t)\n    }) : u(n, t)\n  }\n\n  function t(n, i, t) {\n    e.WeixinJSBridge ? WeixinJSBridge.on(n, function (e) {\n      t && t.trigger && t.trigger(e), c(n, e, i)\n    }) : t ? u(n, t) : u(n, i)\n  }\n\n  function o(e) {\n    return e = e || {}, e.appId = C.appId, e.verifyAppId = C.appId, e.verifySignType = \"sha1\", e.verifyTimestamp = C.timestamp + \"\", e.verifyNonceStr = C.nonceStr, e.verifySignature = C.signature, e\n  }\n\n  function r(e) {\n    return {\n      timeStamp: e.timestamp + \"\",\n      nonceStr: e.nonceStr,\n      package: e.package,\n      paySign: e.paySign,\n      signType: e.signType || \"SHA1\"\n    }\n  }\n\n  function a(e) {\n    return e.postalCode = e.addressPostalCode, delete e.addressPostalCode, e.provinceName = e.proviceFirstStageName, delete e.proviceFirstStageName, e.cityName = e.addressCitySecondStageName, delete e.addressCitySecondStageName, e.countryName = e.addressCountiesThirdStageName, delete e.addressCountiesThirdStageName, e.detailInfo = e.addressDetailInfo, delete e.addressDetailInfo, e\n  }\n\n  function c(e, n, i) {\n    \"openEnterpriseChat\" == e && (n.errCode = n.err_code), delete n.err_code, delete n.err_desc, delete n.err_detail;\n    var t = n.errMsg;\n    t || (t = n.err_msg, delete n.err_msg, t = s(e, t), n.errMsg = t), (i = i || {})._complete && (i._complete(n), delete i._complete), t = n.errMsg || \"\", C.debug && !i.isInnerInvoke && alert(JSON.stringify(n));\n    var o = t.indexOf(\":\");\n    switch (t.substring(o + 1)) {\n      case \"ok\":\n        i.success && i.success(n);\n        break;\n      case \"cancel\":\n        i.cancel && i.cancel(n);\n        break;\n      default:\n        i.fail && i.fail(n)\n    }\n    i.complete && i.complete(n)\n  }\n\n  function s(e, n) {\n    var i = e,\n      t = v[i];\n    t && (i = t);\n    var o = \"ok\";\n    if (n) {\n      var r = n.indexOf(\":\");\n      \"confirm\" == (o = n.substring(r + 1)) && (o = \"ok\"), \"failed\" == o && (o = \"fail\"), -1 != o.indexOf(\"failed_\") && (o = o.substring(7)), -1 != o.indexOf(\"fail_\") && (o = o.substring(5)), \"access denied\" != (o = (o = o.replace(/_/g, \" \")).toLowerCase()) && \"no permission to execute\" != o || (o = \"permission denied\"), \"config\" == i && \"function not exist\" == o && (o = \"ok\"), \"\" == o && (o = \"fail\")\n    }\n    return n = i + \":\" + o\n  }\n\n  function d(e) {\n    if (e) {\n      for (var n = 0, i = e.length; n < i; ++n) {\n        var t = e[n],\n          o = h[t];\n        o && (e[n] = o)\n      }\n      return e\n    }\n  }\n\n  function u(e, n) {\n    if (!(!C.debug || n && n.isInnerInvoke)) {\n      var i = v[e];\n      i && (e = i), n && n._complete && delete n._complete, console.log('\"' + e + '\",', n || \"\")\n    }\n  }\n\n  function l(e) {\n    if (!(w || T || C.debug || x < \"6.0.2\" || A.systemType < 0)) {\n      var n = new Image;\n      A.appId = C.appId, A.initTime = V.initEndTime - V.initStartTime, A.preVerifyTime = V.preVerifyEndTime - V.preVerifyStartTime, N.getNetworkType({\n        isInnerInvoke: !0,\n        success: function (e) {\n          A.networkType = e.networkType;\n          var i = \"https://open.weixin.qq.com/sdk/report?v=\" + A.version + \"&o=\" + A.isPreVerifyOk + \"&s=\" + A.systemType + \"&c=\" + A.clientVersion + \"&a=\" + A.appId + \"&n=\" + A.networkType + \"&i=\" + A.initTime + \"&p=\" + A.preVerifyTime + \"&u=\" + A.url;\n          n.src = i\n        }\n      })\n    }\n  }\n\n  function p() {\n    return (new Date).getTime()\n  }\n\n  function f(n) {\n    k && (e.WeixinJSBridge ? \"preInject\" === I.__wxjsjs__isPreInject ? I.addEventListener && I.addEventListener(\"WeixinJSBridgeReady\", n, !1) : n() : I.addEventListener && I.addEventListener(\"WeixinJSBridgeReady\", n, !1))\n  }\n\n  function m() {\n    N.invoke || (N.invoke = function (n, i, t) {\n      e.WeixinJSBridge && WeixinJSBridge.invoke(n, o(i), t)\n    }, N.on = function (n, i) {\n      e.WeixinJSBridge && WeixinJSBridge.on(n, i)\n    })\n  }\n\n  function g(e) {\n    if (\"string\" == typeof e && e.length > 0) {\n      var n = e.split(\"?\")[0],\n        i = e.split(\"?\")[1];\n      return n += \".html\", void 0 !== i ? n + \"?\" + i : n\n    }\n  }\n  if (!e.jWeixin) {\n    var h = {\n        config: \"preVerifyJSAPI\",\n        onMenuShareTimeline: \"menu:share:timeline\",\n        onMenuShareAppMessage: \"menu:share:appmessage\",\n        onMenuShareQQ: \"menu:share:qq\",\n        onMenuShareWeibo: \"menu:share:weiboApp\",\n        onMenuShareQZone: \"menu:share:QZone\",\n        previewImage: \"imagePreview\",\n        getLocation: \"geoLocation\",\n        openProductSpecificView: \"openProductViewWithPid\",\n        addCard: \"batchAddCard\",\n        openCard: \"batchViewCard\",\n        chooseWXPay: \"getBrandWCPayRequest\",\n        openEnterpriseRedPacket: \"getRecevieBizHongBaoRequest\",\n        startSearchBeacons: \"startMonitoringBeacons\",\n        stopSearchBeacons: \"stopMonitoringBeacons\",\n        onSearchBeacons: \"onBeaconsInRange\",\n        consumeAndShareCard: \"consumedShareCard\",\n        openAddress: \"editAddress\"\n      },\n      v = function () {\n        var e = {};\n        for (var n in h) e[h[n]] = n;\n        return e\n      }(),\n      I = e.document,\n      S = I.title,\n      y = navigator.userAgent.toLowerCase(),\n      _ = navigator.platform.toLowerCase(),\n      w = !(!_.match(\"mac\") && !_.match(\"win\")),\n      T = -1 != y.indexOf(\"wxdebugger\"),\n      k = -1 != y.indexOf(\"micromessenger\"),\n      M = -1 != y.indexOf(\"android\"),\n      P = -1 != y.indexOf(\"iphone\") || -1 != y.indexOf(\"ipad\"),\n      x = function () {\n        var e = y.match(/micromessenger\\/(\\d+\\.\\d+\\.\\d+)/) || y.match(/micromessenger\\/(\\d+\\.\\d+)/);\n        return e ? e[1] : \"\"\n      }(),\n      V = {\n        initStartTime: p(),\n        initEndTime: 0,\n        preVerifyStartTime: 0,\n        preVerifyEndTime: 0\n      },\n      A = {\n        version: 1,\n        appId: \"\",\n        initTime: 0,\n        preVerifyTime: 0,\n        networkType: \"\",\n        isPreVerifyOk: 1,\n        systemType: P ? 1 : M ? 2 : -1,\n        clientVersion: x,\n        url: encodeURIComponent(location.href)\n      },\n      C = {},\n      L = {\n        _completes: []\n      },\n      B = {\n        state: 0,\n        data: {}\n      };\n    f(function () {\n      V.initEndTime = p()\n    });\n    var E = !1,\n      O = [],\n      N = {\n        config: function (e) {\n          C = e, u(\"config\", e);\n          var n = !1 !== C.check;\n          f(function () {\n            if (n) i(h.config, {\n              verifyJsApiList: d(C.jsApiList)\n            }, function () {\n              L._complete = function (e) {\n                V.preVerifyEndTime = p(), B.state = 1, B.data = e\n              }, L.success = function (e) {\n                A.isPreVerifyOk = 0\n              }, L.fail = function (e) {\n                L._fail ? L._fail(e) : B.state = -1\n              };\n              var e = L._completes;\n              return e.push(function () {\n                l()\n              }), L.complete = function (n) {\n                for (var i = 0, t = e.length; i < t; ++i) e[i]();\n                L._completes = []\n              }, L\n            }()), V.preVerifyStartTime = p();\n            else {\n              B.state = 1;\n              for (var e = L._completes, t = 0, o = e.length; t < o; ++t) e[t]();\n              L._completes = []\n            }\n          }), m()\n        },\n        ready: function (e) {\n          0 != B.state ? e() : (L._completes.push(e), !k && C.debug && e())\n        },\n        error: function (e) {\n          x < \"6.0.2\" || (-1 == B.state ? e(B.data) : L._fail = e)\n        },\n        checkJsApi: function (e) {\n          var n = function (e) {\n            var n = e.checkResult;\n            for (var i in n) {\n              var t = v[i];\n              t && (n[t] = n[i], delete n[i])\n            }\n            return e\n          };\n          i(\"checkJsApi\", {\n            jsApiList: d(e.jsApiList)\n          }, (e._complete = function (e) {\n            if (M) {\n              var i = e.checkResult;\n              i && (e.checkResult = JSON.parse(i))\n            }\n            e = n(e)\n          }, e))\n        },\n        onMenuShareTimeline: function (e) {\n          t(h.onMenuShareTimeline, {\n            complete: function () {\n              i(\"shareTimeline\", {\n                title: e.title || S,\n                desc: e.title || S,\n                img_url: e.imgUrl || \"\",\n                link: e.link || location.href,\n                type: e.type || \"link\",\n                data_url: e.dataUrl || \"\"\n              }, e)\n            }\n          }, e)\n        },\n        onMenuShareAppMessage: function (e) {\n          t(h.onMenuShareAppMessage, {\n            complete: function () {\n              i(\"sendAppMessage\", {\n                title: e.title || S,\n                desc: e.desc || \"\",\n                link: e.link || location.href,\n                img_url: e.imgUrl || \"\",\n                type: e.type || \"link\",\n                data_url: e.dataUrl || \"\"\n              }, e)\n            }\n          }, e)\n        },\n        onMenuShareQQ: function (e) {\n          t(h.onMenuShareQQ, {\n            complete: function () {\n              i(\"shareQQ\", {\n                title: e.title || S,\n                desc: e.desc || \"\",\n                img_url: e.imgUrl || \"\",\n                link: e.link || location.href\n              }, e)\n            }\n          }, e)\n        },\n        onMenuShareWeibo: function (e) {\n          t(h.onMenuShareWeibo, {\n            complete: function () {\n              i(\"shareWeiboApp\", {\n                title: e.title || S,\n                desc: e.desc || \"\",\n                img_url: e.imgUrl || \"\",\n                link: e.link || location.href\n              }, e)\n            }\n          }, e)\n        },\n        onMenuShareQZone: function (e) {\n          t(h.onMenuShareQZone, {\n            complete: function () {\n              i(\"shareQZone\", {\n                title: e.title || S,\n                desc: e.desc || \"\",\n                img_url: e.imgUrl || \"\",\n                link: e.link || location.href\n              }, e)\n            }\n          }, e)\n        },\n        startRecord: function (e) {\n          i(\"startRecord\", {}, e)\n        },\n        stopRecord: function (e) {\n          i(\"stopRecord\", {}, e)\n        },\n        onVoiceRecordEnd: function (e) {\n          t(\"onVoiceRecordEnd\", e)\n        },\n        playVoice: function (e) {\n          i(\"playVoice\", {\n            localId: e.localId\n          }, e)\n        },\n        pauseVoice: function (e) {\n          i(\"pauseVoice\", {\n            localId: e.localId\n          }, e)\n        },\n        stopVoice: function (e) {\n          i(\"stopVoice\", {\n            localId: e.localId\n          }, e)\n        },\n        onVoicePlayEnd: function (e) {\n          t(\"onVoicePlayEnd\", e)\n        },\n        uploadVoice: function (e) {\n          i(\"uploadVoice\", {\n            localId: e.localId,\n            isShowProgressTips: 0 == e.isShowProgressTips ? 0 : 1\n          }, e)\n        },\n        downloadVoice: function (e) {\n          i(\"downloadVoice\", {\n            serverId: e.serverId,\n            isShowProgressTips: 0 == e.isShowProgressTips ? 0 : 1\n          }, e)\n        },\n        translateVoice: function (e) {\n          i(\"translateVoice\", {\n            localId: e.localId,\n            isShowProgressTips: 0 == e.isShowProgressTips ? 0 : 1\n          }, e)\n        },\n        chooseImage: function (e) {\n          i(\"chooseImage\", {\n            scene: \"1|2\",\n            count: e.count || 9,\n            sizeType: e.sizeType || [\"original\", \"compressed\"],\n            sourceType: e.sourceType || [\"album\", \"camera\"]\n          }, (e._complete = function (e) {\n            if (M) {\n              var n = e.localIds;\n              n && (e.localIds = JSON.parse(n))\n            }\n          }, e))\n        },\n        getLocation: function (e) {},\n        previewImage: function (e) {\n          i(h.previewImage, {\n            current: e.current,\n            urls: e.urls\n          }, e)\n        },\n        uploadImage: function (e) {\n          i(\"uploadImage\", {\n            localId: e.localId,\n            isShowProgressTips: 0 == e.isShowProgressTips ? 0 : 1\n          }, e)\n        },\n        downloadImage: function (e) {\n          i(\"downloadImage\", {\n            serverId: e.serverId,\n            isShowProgressTips: 0 == e.isShowProgressTips ? 0 : 1\n          }, e)\n        },\n        getLocalImgData: function (e) {\n          !1 === E ? (E = !0, i(\"getLocalImgData\", {\n            localId: e.localId\n          }, (e._complete = function (e) {\n            if (E = !1, O.length > 0) {\n              var n = O.shift();\n              wx.getLocalImgData(n)\n            }\n          }, e))) : O.push(e)\n        },\n        getNetworkType: function (e) {\n          var n = function (e) {\n            var n = e.errMsg;\n            e.errMsg = \"getNetworkType:ok\";\n            var i = e.subtype;\n            if (delete e.subtype, i) e.networkType = i;\n            else {\n              var t = n.indexOf(\":\"),\n                o = n.substring(t + 1);\n              switch (o) {\n                case \"wifi\":\n                case \"edge\":\n                case \"wwan\":\n                  e.networkType = o;\n                  break;\n                default:\n                  e.errMsg = \"getNetworkType:fail\"\n              }\n            }\n            return e\n          };\n          i(\"getNetworkType\", {}, (e._complete = function (e) {\n            e = n(e)\n          }, e))\n        },\n        openLocation: function (e) {\n          i(\"openLocation\", {\n            latitude: e.latitude,\n            longitude: e.longitude,\n            name: e.name || \"\",\n            address: e.address || \"\",\n            scale: e.scale || 28,\n            infoUrl: e.infoUrl || \"\"\n          }, e)\n        },\n        getLocation: function (e) {\n          e = e || {}, i(h.getLocation, {\n            type: e.type || \"wgs84\"\n          }, (e._complete = function (e) {\n            delete e.type\n          }, e))\n        },\n        hideOptionMenu: function (e) {\n          i(\"hideOptionMenu\", {}, e)\n        },\n        showOptionMenu: function (e) {\n          i(\"showOptionMenu\", {}, e)\n        },\n        closeWindow: function (e) {\n          i(\"closeWindow\", {}, e = e || {})\n        },\n        hideMenuItems: function (e) {\n          i(\"hideMenuItems\", {\n            menuList: e.menuList\n          }, e)\n        },\n        showMenuItems: function (e) {\n          i(\"showMenuItems\", {\n            menuList: e.menuList\n          }, e)\n        },\n        hideAllNonBaseMenuItem: function (e) {\n          i(\"hideAllNonBaseMenuItem\", {}, e)\n        },\n        showAllNonBaseMenuItem: function (e) {\n          i(\"showAllNonBaseMenuItem\", {}, e)\n        },\n        scanQRCode: function (e) {\n          i(\"scanQRCode\", {\n            needResult: (e = e || {}).needResult || 0,\n            scanType: e.scanType || [\"qrCode\", \"barCode\"]\n          }, (e._complete = function (e) {\n            if (P) {\n              var n = e.resultStr;\n              if (n) {\n                var i = JSON.parse(n);\n                e.resultStr = i && i.scan_code && i.scan_code.scan_result\n              }\n            }\n          }, e))\n        },\n        openAddress: function (e) {\n          i(h.openAddress, {}, (e._complete = function (e) {\n            e = a(e)\n          }, e))\n        },\n        openProductSpecificView: function (e) {\n          i(h.openProductSpecificView, {\n            pid: e.productId,\n            view_type: e.viewType || 0,\n            ext_info: e.extInfo\n          }, e)\n        },\n        addCard: function (e) {\n          for (var n = e.cardList, t = [], o = 0, r = n.length; o < r; ++o) {\n            var a = n[o],\n              c = {\n                card_id: a.cardId,\n                card_ext: a.cardExt\n              };\n            t.push(c)\n          }\n          i(h.addCard, {\n            card_list: t\n          }, (e._complete = function (e) {\n            var n = e.card_list;\n            if (n) {\n              for (var i = 0, t = (n = JSON.parse(n)).length; i < t; ++i) {\n                var o = n[i];\n                o.cardId = o.card_id, o.cardExt = o.card_ext, o.isSuccess = !!o.is_succ, delete o.card_id, delete o.card_ext, delete o.is_succ\n              }\n              e.cardList = n, delete e.card_list\n            }\n          }, e))\n        },\n        chooseCard: function (e) {\n          i(\"chooseCard\", {\n            app_id: C.appId,\n            location_id: e.shopId || \"\",\n            sign_type: e.signType || \"SHA1\",\n            card_id: e.cardId || \"\",\n            card_type: e.cardType || \"\",\n            card_sign: e.cardSign,\n            time_stamp: e.timestamp + \"\",\n            nonce_str: e.nonceStr\n          }, (e._complete = function (e) {\n            e.cardList = e.choose_card_info, delete e.choose_card_info\n          }, e))\n        },\n        openCard: function (e) {\n          for (var n = e.cardList, t = [], o = 0, r = n.length; o < r; ++o) {\n            var a = n[o],\n              c = {\n                card_id: a.cardId,\n                code: a.code\n              };\n            t.push(c)\n          }\n          i(h.openCard, {\n            card_list: t\n          }, e)\n        },\n        consumeAndShareCard: function (e) {\n          i(h.consumeAndShareCard, {\n            consumedCardId: e.cardId,\n            consumedCode: e.code\n          }, e)\n        },\n        chooseWXPay: function (e) {\n          i(h.chooseWXPay, r(e), e)\n        },\n        openEnterpriseRedPacket: function (e) {\n          i(h.openEnterpriseRedPacket, r(e), e)\n        },\n        startSearchBeacons: function (e) {\n          i(h.startSearchBeacons, {\n            ticket: e.ticket\n          }, e)\n        },\n        stopSearchBeacons: function (e) {\n          i(h.stopSearchBeacons, {}, e)\n        },\n        onSearchBeacons: function (e) {\n          t(h.onSearchBeacons, e)\n        },\n        openEnterpriseChat: function (e) {\n          i(\"openEnterpriseChat\", {\n            useridlist: e.userIds,\n            chatname: e.groupName\n          }, e)\n        },\n        launchMiniProgram: function (e) {\n          i(\"launchMiniProgram\", {\n            targetAppId: e.targetAppId,\n            path: g(e.path),\n            envVersion: e.envVersion\n          }, e)\n        },\n        miniProgram: {\n          navigateBack: function (e) {\n            e = e || {}, f(function () {\n              i(\"invokeMiniProgramAPI\", {\n                name: \"navigateBack\",\n                arg: {\n                  delta: e.delta || 1\n                }\n              }, e)\n            })\n          },\n          navigateTo: function (e) {\n            f(function () {\n              i(\"invokeMiniProgramAPI\", {\n                name: \"navigateTo\",\n                arg: {\n                  url: e.url\n                }\n              }, e)\n            })\n          },\n          redirectTo: function (e) {\n            f(function () {\n              i(\"invokeMiniProgramAPI\", {\n                name: \"redirectTo\",\n                arg: {\n                  url: e.url\n                }\n              }, e)\n            })\n          },\n          switchTab: function (e) {\n            f(function () {\n              i(\"invokeMiniProgramAPI\", {\n                name: \"switchTab\",\n                arg: {\n                  url: e.url\n                }\n              }, e)\n            })\n          },\n          reLaunch: function (e) {\n            f(function () {\n              i(\"invokeMiniProgramAPI\", {\n                name: \"reLaunch\",\n                arg: {\n                  url: e.url\n                }\n              }, e)\n            })\n          },\n          postMessage: function (e) {\n            f(function () {\n              i(\"invokeMiniProgramAPI\", {\n                name: \"postMessage\",\n                arg: e.data || {}\n              }, e)\n            })\n          },\n          getEnv: function (n) {\n            f(function () {\n              n({\n                miniprogram: \"miniprogram\" === e.__wxjs_environment\n              })\n            })\n          }\n        }\n      },\n      b = 1,\n      R = {};\n    return I.addEventListener(\"error\", function (e) {\n      if (!M) {\n        var n = e.target,\n          i = n.tagName,\n          t = n.src;\n        if ((\"IMG\" == i || \"VIDEO\" == i || \"AUDIO\" == i || \"SOURCE\" == i) && -1 != t.indexOf(\"wxlocalresource://\")) {\n          e.preventDefault(), e.stopPropagation();\n          var o = n[\"wx-id\"];\n          if (o || (o = b++, n[\"wx-id\"] = o), R[o]) return;\n          R[o] = !0, wx.ready(function () {\n            wx.getLocalImgData({\n              localId: t,\n              success: function (e) {\n                n.src = e.localData\n              }\n            })\n          })\n        }\n      }\n    }, !0), I.addEventListener(\"load\", function (e) {\n      if (!M) {\n        var n = e.target,\n          i = n.tagName;\n        n.src;\n        if (\"IMG\" == i || \"VIDEO\" == i || \"AUDIO\" == i || \"SOURCE\" == i) {\n          var t = n[\"wx-id\"];\n          t && (R[t] = !1)\n        }\n      }\n    }, !0), n && (e.wx = e.jWeixin = N), N\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/weixin-js-sdk/index.js\n// module id = fxnj\n// module chunks = 9","/*!\n * headroom.js v0.9.4 - Give your page some headroom. Hide your header until you need it\n * Copyright (c) 2017 Nick Williams - http://wicky.nillia.ms/headroom.js\n * License: MIT\n */\n\n(function(root, factory) {\n  'use strict';\n\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([], factory);\n  }\n  else if (typeof exports === 'object') {\n    // COMMONJS\n    module.exports = factory();\n  }\n  else {\n    // BROWSER\n    root.Headroom = factory();\n  }\n}(this, function() {\n  'use strict';\n\n  /* exported features */\n  \n  var features = {\n    bind : !!(function(){}.bind),\n    classList : 'classList' in document.documentElement,\n    rAF : !!(window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame)\n  };\n  window.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;\n  \n  /**\n   * Handles debouncing of events via requestAnimationFrame\n   * @see http://www.html5rocks.com/en/tutorials/speed/animations/\n   * @param {Function} callback The callback to handle whichever event\n   */\n  function Debouncer (callback) {\n    this.callback = callback;\n    this.ticking = false;\n  }\n  Debouncer.prototype = {\n    constructor : Debouncer,\n  \n    /**\n     * dispatches the event to the supplied callback\n     * @private\n     */\n    update : function() {\n      this.callback && this.callback();\n      this.ticking = false;\n    },\n  \n    /**\n     * ensures events don't get stacked\n     * @private\n     */\n    requestTick : function() {\n      if(!this.ticking) {\n        requestAnimationFrame(this.rafCallback || (this.rafCallback = this.update.bind(this)));\n        this.ticking = true;\n      }\n    },\n  \n    /**\n     * Attach this as the event listeners\n     */\n    handleEvent : function() {\n      this.requestTick();\n    }\n  };\n  /**\n   * Check if object is part of the DOM\n   * @constructor\n   * @param {Object} obj element to check\n   */\n  function isDOMElement(obj) {\n    return obj && typeof window !== 'undefined' && (obj === window || obj.nodeType);\n  }\n  \n  /**\n   * Helper function for extending objects\n   */\n  function extend (object /*, objectN ... */) {\n    if(arguments.length <= 0) {\n      throw new Error('Missing arguments in extend function');\n    }\n  \n    var result = object || {},\n        key,\n        i;\n  \n    for (i = 1; i < arguments.length; i++) {\n      var replacement = arguments[i] || {};\n  \n      for (key in replacement) {\n        // Recurse into object except if the object is a DOM element\n        if(typeof result[key] === 'object' && ! isDOMElement(result[key])) {\n          result[key] = extend(result[key], replacement[key]);\n        }\n        else {\n          result[key] = result[key] || replacement[key];\n        }\n      }\n    }\n  \n    return result;\n  }\n  \n  /**\n   * Helper function for normalizing tolerance option to object format\n   */\n  function normalizeTolerance (t) {\n    return t === Object(t) ? t : { down : t, up : t };\n  }\n  \n  /**\n   * UI enhancement for fixed headers.\n   * Hides header when scrolling down\n   * Shows header when scrolling up\n   * @constructor\n   * @param {DOMElement} elem the header element\n   * @param {Object} options options for the widget\n   */\n  function Headroom (elem, options) {\n    options = extend(options, Headroom.options);\n  \n    this.lastKnownScrollY = 0;\n    this.elem             = elem;\n    this.tolerance        = normalizeTolerance(options.tolerance);\n    this.classes          = options.classes;\n    this.offset           = options.offset;\n    this.scroller         = options.scroller;\n    this.initialised      = false;\n    this.onPin            = options.onPin;\n    this.onUnpin          = options.onUnpin;\n    this.onTop            = options.onTop;\n    this.onNotTop         = options.onNotTop;\n    this.onBottom         = options.onBottom;\n    this.onNotBottom      = options.onNotBottom;\n  }\n  Headroom.prototype = {\n    constructor : Headroom,\n  \n    /**\n     * Initialises the widget\n     */\n    init : function() {\n      if(!Headroom.cutsTheMustard) {\n        return;\n      }\n  \n      this.debouncer = new Debouncer(this.update.bind(this));\n      this.elem.classList.add(this.classes.initial);\n  \n      // defer event registration to handle browser\n      // potentially restoring previous scroll position\n      setTimeout(this.attachEvent.bind(this), 100);\n  \n      return this;\n    },\n  \n    /**\n     * Unattaches events and removes any classes that were added\n     */\n    destroy : function() {\n      var classes = this.classes;\n  \n      this.initialised = false;\n  \n      for (var key in classes) {\n        if(classes.hasOwnProperty(key)) {\n          this.elem.classList.remove(classes[key]);\n        }\n      }\n  \n      this.scroller.removeEventListener('scroll', this.debouncer, false);\n    },\n  \n    /**\n     * Attaches the scroll event\n     * @private\n     */\n    attachEvent : function() {\n      if(!this.initialised){\n        this.lastKnownScrollY = this.getScrollY();\n        this.initialised = true;\n        this.scroller.addEventListener('scroll', this.debouncer, false);\n  \n        this.debouncer.handleEvent();\n      }\n    },\n  \n    /**\n     * Unpins the header if it's currently pinned\n     */\n    unpin : function() {\n      var classList = this.elem.classList,\n        classes = this.classes;\n  \n      if(classList.contains(classes.pinned) || !classList.contains(classes.unpinned)) {\n        classList.add(classes.unpinned);\n        classList.remove(classes.pinned);\n        this.onUnpin && this.onUnpin.call(this);\n      }\n    },\n  \n    /**\n     * Pins the header if it's currently unpinned\n     */\n    pin : function() {\n      var classList = this.elem.classList,\n        classes = this.classes;\n  \n      if(classList.contains(classes.unpinned)) {\n        classList.remove(classes.unpinned);\n        classList.add(classes.pinned);\n        this.onPin && this.onPin.call(this);\n      }\n    },\n  \n    /**\n     * Handles the top states\n     */\n    top : function() {\n      var classList = this.elem.classList,\n        classes = this.classes;\n  \n      if(!classList.contains(classes.top)) {\n        classList.add(classes.top);\n        classList.remove(classes.notTop);\n        this.onTop && this.onTop.call(this);\n      }\n    },\n  \n    /**\n     * Handles the not top state\n     */\n    notTop : function() {\n      var classList = this.elem.classList,\n        classes = this.classes;\n  \n      if(!classList.contains(classes.notTop)) {\n        classList.add(classes.notTop);\n        classList.remove(classes.top);\n        this.onNotTop && this.onNotTop.call(this);\n      }\n    },\n  \n    bottom : function() {\n      var classList = this.elem.classList,\n        classes = this.classes;\n  \n      if(!classList.contains(classes.bottom)) {\n        classList.add(classes.bottom);\n        classList.remove(classes.notBottom);\n        this.onBottom && this.onBottom.call(this);\n      }\n    },\n  \n    /**\n     * Handles the not top state\n     */\n    notBottom : function() {\n      var classList = this.elem.classList,\n        classes = this.classes;\n  \n      if(!classList.contains(classes.notBottom)) {\n        classList.add(classes.notBottom);\n        classList.remove(classes.bottom);\n        this.onNotBottom && this.onNotBottom.call(this);\n      }\n    },\n  \n    /**\n     * Gets the Y scroll position\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Window.scrollY\n     * @return {Number} pixels the page has scrolled along the Y-axis\n     */\n    getScrollY : function() {\n      return (this.scroller.pageYOffset !== undefined)\n        ? this.scroller.pageYOffset\n        : (this.scroller.scrollTop !== undefined)\n          ? this.scroller.scrollTop\n          : (document.documentElement || document.body.parentNode || document.body).scrollTop;\n    },\n  \n    /**\n     * Gets the height of the viewport\n     * @see http://andylangton.co.uk/blog/development/get-viewport-size-width-and-height-javascript\n     * @return {int} the height of the viewport in pixels\n     */\n    getViewportHeight : function () {\n      return window.innerHeight\n        || document.documentElement.clientHeight\n        || document.body.clientHeight;\n    },\n  \n    /**\n     * Gets the physical height of the DOM element\n     * @param  {Object}  elm the element to calculate the physical height of which\n     * @return {int}     the physical height of the element in pixels\n     */\n    getElementPhysicalHeight : function (elm) {\n      return Math.max(\n        elm.offsetHeight,\n        elm.clientHeight\n      );\n    },\n  \n    /**\n     * Gets the physical height of the scroller element\n     * @return {int} the physical height of the scroller element in pixels\n     */\n    getScrollerPhysicalHeight : function () {\n      return (this.scroller === window || this.scroller === document.body)\n        ? this.getViewportHeight()\n        : this.getElementPhysicalHeight(this.scroller);\n    },\n  \n    /**\n     * Gets the height of the document\n     * @see http://james.padolsey.com/javascript/get-document-height-cross-browser/\n     * @return {int} the height of the document in pixels\n     */\n    getDocumentHeight : function () {\n      var body = document.body,\n        documentElement = document.documentElement;\n  \n      return Math.max(\n        body.scrollHeight, documentElement.scrollHeight,\n        body.offsetHeight, documentElement.offsetHeight,\n        body.clientHeight, documentElement.clientHeight\n      );\n    },\n  \n    /**\n     * Gets the height of the DOM element\n     * @param  {Object}  elm the element to calculate the height of which\n     * @return {int}     the height of the element in pixels\n     */\n    getElementHeight : function (elm) {\n      return Math.max(\n        elm.scrollHeight,\n        elm.offsetHeight,\n        elm.clientHeight\n      );\n    },\n  \n    /**\n     * Gets the height of the scroller element\n     * @return {int} the height of the scroller element in pixels\n     */\n    getScrollerHeight : function () {\n      return (this.scroller === window || this.scroller === document.body)\n        ? this.getDocumentHeight()\n        : this.getElementHeight(this.scroller);\n    },\n  \n    /**\n     * determines if the scroll position is outside of document boundaries\n     * @param  {int}  currentScrollY the current y scroll position\n     * @return {bool} true if out of bounds, false otherwise\n     */\n    isOutOfBounds : function (currentScrollY) {\n      var pastTop  = currentScrollY < 0,\n        pastBottom = currentScrollY + this.getScrollerPhysicalHeight() > this.getScrollerHeight();\n  \n      return pastTop || pastBottom;\n    },\n  \n    /**\n     * determines if the tolerance has been exceeded\n     * @param  {int} currentScrollY the current scroll y position\n     * @return {bool} true if tolerance exceeded, false otherwise\n     */\n    toleranceExceeded : function (currentScrollY, direction) {\n      return Math.abs(currentScrollY-this.lastKnownScrollY) >= this.tolerance[direction];\n    },\n  \n    /**\n     * determine if it is appropriate to unpin\n     * @param  {int} currentScrollY the current y scroll position\n     * @param  {bool} toleranceExceeded has the tolerance been exceeded?\n     * @return {bool} true if should unpin, false otherwise\n     */\n    shouldUnpin : function (currentScrollY, toleranceExceeded) {\n      var scrollingDown = currentScrollY > this.lastKnownScrollY,\n        pastOffset = currentScrollY >= this.offset;\n  \n      return scrollingDown && pastOffset && toleranceExceeded;\n    },\n  \n    /**\n     * determine if it is appropriate to pin\n     * @param  {int} currentScrollY the current y scroll position\n     * @param  {bool} toleranceExceeded has the tolerance been exceeded?\n     * @return {bool} true if should pin, false otherwise\n     */\n    shouldPin : function (currentScrollY, toleranceExceeded) {\n      var scrollingUp  = currentScrollY < this.lastKnownScrollY,\n        pastOffset = currentScrollY <= this.offset;\n  \n      return (scrollingUp && toleranceExceeded) || pastOffset;\n    },\n  \n    /**\n     * Handles updating the state of the widget\n     */\n    update : function() {\n      var currentScrollY  = this.getScrollY(),\n        scrollDirection = currentScrollY > this.lastKnownScrollY ? 'down' : 'up',\n        toleranceExceeded = this.toleranceExceeded(currentScrollY, scrollDirection);\n  \n      if(this.isOutOfBounds(currentScrollY)) { // Ignore bouncy scrolling in OSX\n        return;\n      }\n  \n      if (currentScrollY <= this.offset ) {\n        this.top();\n      } else {\n        this.notTop();\n      }\n  \n      if(currentScrollY + this.getViewportHeight() >= this.getScrollerHeight()) {\n        this.bottom();\n      }\n      else {\n        this.notBottom();\n      }\n  \n      if(this.shouldUnpin(currentScrollY, toleranceExceeded)) {\n        this.unpin();\n      }\n      else if(this.shouldPin(currentScrollY, toleranceExceeded)) {\n        this.pin();\n      }\n  \n      this.lastKnownScrollY = currentScrollY;\n    }\n  };\n  /**\n   * Default options\n   * @type {Object}\n   */\n  Headroom.options = {\n    tolerance : {\n      up : 0,\n      down : 0\n    },\n    offset : 0,\n    scroller: window,\n    classes : {\n      pinned : 'headroom--pinned',\n      unpinned : 'headroom--unpinned',\n      top : 'headroom--top',\n      notTop : 'headroom--not-top',\n      bottom : 'headroom--bottom',\n      notBottom : 'headroom--not-bottom',\n      initial : 'headroom'\n    }\n  };\n  Headroom.cutsTheMustard = typeof features !== 'undefined' && features.rAF && features.bind && features.classList;\n\n  return Headroom;\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/headroom.js/dist/headroom.js\n// module id = hAM4\n// module chunks = 7 9"],"sourceRoot":""}
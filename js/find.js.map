{"version":3,"sources":["webpack:///src/page/find/children/findNearby.vue","webpack:///./src/page/find/children/findNearby.vue?7da7","webpack:///./src/page/find/children/findNearby.vue","webpack:///src/page/find/children/findContent.vue","webpack:///./src/page/find/children/findContent.vue?8173","webpack:///./src/page/find/children/findContent.vue","webpack:///src/page/find/find.vue","webpack:///./src/page/find/find.vue?fd28","webpack:///./src/page/find/find.vue","webpack:///src/page/find/components/findItem.vue","webpack:///./src/page/find/components/findItem.vue?a48a","webpack:///./src/page/find/components/findItem.vue"],"names":["findNearby","findItem","LOCATION","getUsers","formatDataList","_this","this","id","$http","get","concat","then","_ref","_ref$data","data","catch","err","_err$response","response","user","_this2","length","latitude","longitude","_ref2","_ref2$data","user_id","render","_vm","_h","$createElement","_c","_self","_l","key","attrs","_e","staticRenderFns","injectStyle","context","__webpack_require__","__vue_template_functional__","__vue_styles__","__vue_scopeId__","__vue_module_identifier__","Component","Object","component_normalizer","__webpack_exports__","findContent","type","loading","$store","dispatch","directives","name","rawName","value","expression","staticClass","_v","find","HeadTop","location","_location$label","label","slice","patch","go-back","goBack","title","append","slot","on","click","$event","to","_s","cur_txt","tag","$route","meta","keepAlive","_user","following","follower","isFollow","toUserHome","sex","src","avatar","bio","nativeOn","stopPropagation","followUser"],"mappings":"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","file":"js/find.js","sourcesContent":["<template>\n    <div>\n        <find-item v-for='user in formatData' v-if='user.id' :user='user' :key='`find-nearby-${user.id}`'></find-item>\n    </div>\n</template>\n<script>\nimport findItem from \"@/page/find/components/findItem\";\nexport default {\n  name: \"findNearby\",\n  components: {\n    findItem\n  },\n  data() {\n    return {\n      dataList: [],\n      userIDs: [],\n      formatData: []\n    };\n  },\n  computed: {\n    location() {\n      return this.$store.state.LOCATION;\n    },\n    latitude() {\n      return this.$route.query.lat || this.location.lat || 0;\n    },\n    longitude() {\n      return this.$route.query.lng || this.location.lng || 0;\n    }\n  },\n  watch: {\n    location() {\n      this.getUsers();\n    },\n    userIDs() {\n      this.formatDataList();\n    }\n  },\n  methods: {\n    formatDataList() {\n      this.formatData = this.userIDs.map(id => {\n        let user = this.$store.getters.getUserById(id);\n\n        if (!user.id) {\n          this.$http\n            .get(`/users/${id}`)\n            .then(({ data = {} }) => {\n              this.$store.commit(\"SAVE_USER\", data);\n            })\n            .catch(err => {\n              console.log(err);\n              const { response: { status } = {} } = err;\n              if (status === 404) {\n                console.error(\"该用户不存在, 或已删除 #ID:\" + id);\n              }\n            });\n        }\n        return user;\n      });\n    },\n    getUsers() {\n      this.$http\n        .get(\"around-amap\", {\n          params: {\n            limit: 10,\n            offset: this.formatData.length,\n            latitude: this.latitude,\n            longitude: this.longitude\n          }\n        })\n        .then(({ data = [] }) => {\n          this.userIDs = data.map(item => {\n            return item.user_id;\n          });\n        });\n    }\n  },\n\n  created() {\n    this.getUsers();\n  }\n};\n</script>\n<style lang='less'>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/find/children/findNearby.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.formatData),function(user){return (user.id)?_c('find-item',{key:(\"find-nearby-\" + (user.id)),attrs:{\"user\":user}}):_vm._e()}))}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-457876c6\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/find/children/findNearby.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!less-loader?{\\\"globalVars\\\":{\\\"primary\\\":\\\"#59b6d7\\\",\\\"success\\\":\\\"@primary\\\",\\\"error\\\":\\\"#f4504d\\\",\\\"gray\\\":\\\"#ccc\\\",\\\"body-bg\\\":\\\"#fff\\\",\\\"gray-bg\\\":\\\"#f4f5f6\\\",\\\"text-color1\\\":\\\"#333\\\",\\\"text-color2\\\":\\\"#666\\\",\\\"text-color3\\\":\\\"#999\\\",\\\"text-color4\\\":\\\"#ccc\\\",\\\"link-color\\\":\\\"@primary\\\",\\\"border-color\\\":\\\"#ededed\\\",\\\"tool-bar-bg\\\":\\\"#363844\\\",\\\"red\\\":\\\"red\\\"},\\\"sourceMap\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./findNearby.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/JsonLeex/plus-component-h5/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./findNearby.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/JsonLeex/plus-component-h5/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./findNearby.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-457876c6\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./findNearby.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/find/children/findNearby.vue\n// module id = null\n// module chunks = ","<template>\n    <div>\n        <div v-show='loading' class=\"full\">\n            <full-spin></full-spin>\n        </div>\n        <template v-if='noData'>\n            no data\n        </template>\n        <template>\n            <find-item v-for='user in user_list' v-if='user.id' :user='user' :key='`find-usr-${user.id}`'></find-item>\n        </template>\n    </div>\n</template>\n<script>\nimport findItem from \"../components/findItem\";\nexport default {\n  name: \"findContent\",\n  components: {\n    findItem\n  },\n  data() {\n    return {\n      user_list: [],\n      loading: true\n    };\n  },\n\n  computed: {\n    type() {\n      return this.$route.meta.type;\n    },\n    noData() {\n      return this.user_list.length === 0 && !this.loading;\n    }\n  },\n\n  /**\n   * 判断是否刷新数据\n   * @author jsonleex <jsonlseex@163.com>\n   * @param  {Object}                 to\n   * @param  {Object}                 from\n   * @param  {Function}               next\n   */\n  beforeRouteEnter(to, from, next) {\n    next(vm => {\n      if (to.meta.type !== from.meta.type) {\n        vm.getUsers();\n      }\n    });\n  },\n  methods: {\n    getUsers() {\n      this.loading = true;\n      this.$store\n        .dispatch(\"GET_USER_DATA\", {\n          type: this.type,\n          limt: 15\n        })\n        .then(({ data }) => {\n          this.loading = false;\n          if (data && data.length > 0) {\n            this.user_list = data;\n          }\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    }\n  }\n};\n</script>\n<style lang='less'>\n.full {\n  display: block;\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background-color: #fff;\n  z-index: 99;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/find/children/findContent.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"full\"},[_c('full-spin')],1),(_vm.noData)?[_vm._v(\"\\n        no data\\n    \")]:_vm._e(),_vm._l((_vm.user_list),function(user){return (user.id)?_c('find-item',{key:(\"find-usr-\" + (user.id)),attrs:{\"user\":user}}):_vm._e()})],2)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0843a4a2\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/find/children/findContent.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!less-loader?{\\\"globalVars\\\":{\\\"primary\\\":\\\"#59b6d7\\\",\\\"success\\\":\\\"@primary\\\",\\\"error\\\":\\\"#f4504d\\\",\\\"gray\\\":\\\"#ccc\\\",\\\"body-bg\\\":\\\"#fff\\\",\\\"gray-bg\\\":\\\"#f4f5f6\\\",\\\"text-color1\\\":\\\"#333\\\",\\\"text-color2\\\":\\\"#666\\\",\\\"text-color3\\\":\\\"#999\\\",\\\"text-color4\\\":\\\"#ccc\\\",\\\"link-color\\\":\\\"@primary\\\",\\\"border-color\\\":\\\"#ededed\\\",\\\"tool-bar-bg\\\":\\\"#363844\\\",\\\"red\\\":\\\"red\\\"},\\\"sourceMap\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./findContent.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/JsonLeex/plus-component-h5/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./findContent.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/JsonLeex/plus-component-h5/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./findContent.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0843a4a2\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./findContent.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/find/children/findContent.vue\n// module id = null\n// module chunks = ","<template>\n    <div class=\"page-find\">\n        <head-top :go-back='goBack' title='true' :append='true'>\n            <div class=\"find-top-append ellipsis\" slot='append' @click='to(`/location`)'>\n                <v-icon type='find-location'></v-icon>{{ cur_txt }}\n            </div>\n            <div class=\"head-search\" slot='title' @click='to(`/search_user`)'>\n                <v-icon type='base-search'></v-icon> 搜索\n            </div>\n        </head-top>\n        <div class=\"find-nav\">\n            <router-link tag='div' class='find-nav-item' to='/find/pop'>热门</router-link>\n            <router-link tag='div' class='find-nav-item' to='/find/new'>最新</router-link>\n            <router-link tag='div' class='find-nav-item' to='/find/rec'>推荐</router-link>\n            <router-link tag='div' class='find-nav-item' to='/find/nearby'>附近</router-link>\n        </div>\n        <div class=\"find-content\">\n            <keep-alive>\n                <router-view v-if=\"$route.meta.keepAlive\"></router-view>\n            </keep-alive>\n            <router-view v-if=\"!$route.meta.keepAlive\"></router-view>\n        </div>\n    </div>\n</template>\n<script>\nimport HeadTop from \"@/components/HeadTop\";\nexport default {\n  name: \"findIndex\",\n  components: {\n    HeadTop\n  },\n  data() {\n    return {};\n  },\n  computed: {\n    location() {\n      const location = this.$store.state.LOCATION || {};\n      if (JSON.stringify(location) === \"{}\") {\n        this.$store.dispatch(\"GET_LOCATION\");\n      }\n      return location;\n    },\n\n    cur_txt() {\n      const { label = \"\" } = this.location;\n      return (\n        (label.length > 5\n          ? `${label.slice(0, 2)}…${label.slice(-2)}`\n          : label) || \"选择城市\"\n      );\n    }\n  },\n  methods: {\n    goBack() {\n      this.to(\"/discover\");\n    },\n    to(patch) {\n      if (patch) {\n        this.$router.push(patch);\n      }\n    }\n  }\n};\n</script>\n<style lang='less'>\n.page-find .find-top-append {\n  width: 160px;\n  font-size: 24px;\n  color: #333;\n  text-align: left;\n  white-space: nowrap;\n}\n\n.head-search {\n  position: relative;\n  left: -13%;\n  width: 100%;\n  height: 54px;\n  background-color: #ededed;\n  border-radius: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  color: #999;\n  font-size: 24px;\n  padding: 12px;\n  .v-icon {\n    width: 24px;\n    height: 24px;\n    margin-right: 12px;\n  }\n}\n\n.find-nav {\n  position: fixed;\n  z-index: 100;\n  top: 90px;\n  padding-top: 0 !important;\n  display: flex;\n  align-items: center;\n  height: 90px;\n  width: 100%;\n  line-height: 89px;\n  border-bottom: 1px solid #ededed;\n  /*no*/\n  background-color: #fff;\n  justify-content: center;\n  &-item {\n    padding: 0 10px;\n    font-size: 28px;\n    color: #999;\n    border-bottom: 3px solid transparent;\n    & + & {\n      margin-left: 90px;\n    }\n\n    &.router-link-active {\n      border-color: #59b6d7;\n      color: #333;\n    }\n  }\n}\n\n.find-content {\n  padding-top: 180px;\n  min-height: 100vh;\n  position: relative;\n  background-color: #fff;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/find/find.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-find\"},[_c('head-top',{attrs:{\"go-back\":_vm.goBack,\"title\":\"true\",\"append\":true}},[_c('div',{staticClass:\"find-top-append ellipsis\",attrs:{\"slot\":\"append\"},on:{\"click\":function($event){_vm.to(\"/location\")}},slot:\"append\"},[_c('v-icon',{attrs:{\"type\":\"find-location\"}}),_vm._v(_vm._s(_vm.cur_txt)+\"\\n        \")],1),_c('div',{staticClass:\"head-search\",attrs:{\"slot\":\"title\"},on:{\"click\":function($event){_vm.to(\"/search_user\")}},slot:\"title\"},[_c('v-icon',{attrs:{\"type\":\"base-search\"}}),_vm._v(\" 搜索\\n        \")],1)]),_c('div',{staticClass:\"find-nav\"},[_c('router-link',{staticClass:\"find-nav-item\",attrs:{\"tag\":\"div\",\"to\":\"/find/pop\"}},[_vm._v(\"热门\")]),_c('router-link',{staticClass:\"find-nav-item\",attrs:{\"tag\":\"div\",\"to\":\"/find/new\"}},[_vm._v(\"最新\")]),_c('router-link',{staticClass:\"find-nav-item\",attrs:{\"tag\":\"div\",\"to\":\"/find/rec\"}},[_vm._v(\"推荐\")]),_c('router-link',{staticClass:\"find-nav-item\",attrs:{\"tag\":\"div\",\"to\":\"/find/nearby\"}},[_vm._v(\"附近\")])],1),_c('div',{staticClass:\"find-content\"},[_c('keep-alive',[(_vm.$route.meta.keepAlive)?_c('router-view'):_vm._e()],1),(!_vm.$route.meta.keepAlive)?_c('router-view'):_vm._e()],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-78c9749a\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/find/find.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!less-loader?{\\\"globalVars\\\":{\\\"primary\\\":\\\"#59b6d7\\\",\\\"success\\\":\\\"@primary\\\",\\\"error\\\":\\\"#f4504d\\\",\\\"gray\\\":\\\"#ccc\\\",\\\"body-bg\\\":\\\"#fff\\\",\\\"gray-bg\\\":\\\"#f4f5f6\\\",\\\"text-color1\\\":\\\"#333\\\",\\\"text-color2\\\":\\\"#666\\\",\\\"text-color3\\\":\\\"#999\\\",\\\"text-color4\\\":\\\"#ccc\\\",\\\"link-color\\\":\\\"@primary\\\",\\\"border-color\\\":\\\"#ededed\\\",\\\"tool-bar-bg\\\":\\\"#363844\\\",\\\"red\\\":\\\"red\\\"},\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./find.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/JsonLeex/plus-component-h5/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./find.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/JsonLeex/plus-component-h5/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./find.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-78c9749a\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./find.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/find/find.vue\n// module id = null\n// module chunks = ","<template>\n    <div :id='`find-usr-${user.id}`' class=\"find-item\" @click='toUserHome'>\n        <v-avatar sex='user.sex' :src='user.avatar' class='find-item-avatar'>\n            {{ user.name.slice(0, 1) }}\n        </v-avatar>\n        <div class=\"find-item-info\">\n            <p class=\"find-item-name ellipsis\">{{ user.name }}</p>\n            <p class=\"find-item-bio ellipsis\">{{ user.bio }}</p>\n        </div>\n        <template>\n            <v-icon :type='`base-${isFollow}`' class='find-item-follow-icon' @click.native.stop='followUser'></v-icon>\n        </template>\n    </div>\n</template>\n<script>\nexport default {\n  name: \"findItem\",\n  props: [\"user\"],\n  data() {\n    return {\n      loading: false\n    };\n  },\n  computed: {\n    isFollow() {\n      const { follower = false, following = false } = this.user;\n      return follower && following\n        ? \"eachFollow\"\n        : follower ? \"follow\" : \"unFollow\";\n    }\n  },\n  methods: {\n    toUserHome() {\n      this.$router.push(`/user/${this.user.id}`);\n    },\n    followUser() {\n      if (this.loading) return false;\n      this.loading = true;\n      this.$store\n        .dispatch(\"FOLLOW_USER\", {\n          id: this.user.id,\n          status: this.isFollow\n        })\n        .then(({ follower }) => {\n          this.loading = false;\n          this.user.follower = follower;\n        })\n        .catch(() => {\n          setTimeout(() => {\n            this.loading = false;\n          }, 3000);\n        });\n    }\n  }\n};\n</script>\n<style lang='less'>\n.find-item {\n  padding: 0 20px;\n  background-color: #fff;\n  height: 135px;\n  border-bottom: 1px solid #ededed;\n  /*no*/\n  display: flex;\n  align-items: center;\n  font-size: 28px;\n  color: #999;\n  &-avatar,\n  &-follow-icon {\n    flex: 0 0 auto;\n  }\n  &-info {\n    margin-left: 30px;\n    margin-right: 30px;\n    width: calc(~\"100% -\" 60+76+35px);\n    flex: 1 1 auto;\n  }\n  &-name {\n    font-size: 32px;\n    color: #333;\n  }\n  &-follow-icon {\n    width: 35px;\n    height: 35px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/find/components/findItem.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"find-item\",attrs:{\"id\":(\"find-usr-\" + (_vm.user.id))},on:{\"click\":_vm.toUserHome}},[_c('v-avatar',{staticClass:\"find-item-avatar\",attrs:{\"sex\":\"user.sex\",\"src\":_vm.user.avatar}},[_vm._v(\"\\n        \"+_vm._s(_vm.user.name.slice(0, 1))+\"\\n    \")]),_c('div',{staticClass:\"find-item-info\"},[_c('p',{staticClass:\"find-item-name ellipsis\"},[_vm._v(_vm._s(_vm.user.name))]),_c('p',{staticClass:\"find-item-bio ellipsis\"},[_vm._v(_vm._s(_vm.user.bio))])]),[_c('v-icon',{staticClass:\"find-item-follow-icon\",attrs:{\"type\":(\"base-\" + _vm.isFollow)},nativeOn:{\"click\":function($event){$event.stopPropagation();_vm.followUser($event)}}})]],2)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-567d5708\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/find/components/findItem.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!less-loader?{\\\"globalVars\\\":{\\\"primary\\\":\\\"#59b6d7\\\",\\\"success\\\":\\\"@primary\\\",\\\"error\\\":\\\"#f4504d\\\",\\\"gray\\\":\\\"#ccc\\\",\\\"body-bg\\\":\\\"#fff\\\",\\\"gray-bg\\\":\\\"#f4f5f6\\\",\\\"text-color1\\\":\\\"#333\\\",\\\"text-color2\\\":\\\"#666\\\",\\\"text-color3\\\":\\\"#999\\\",\\\"text-color4\\\":\\\"#ccc\\\",\\\"link-color\\\":\\\"@primary\\\",\\\"border-color\\\":\\\"#ededed\\\",\\\"tool-bar-bg\\\":\\\"#363844\\\",\\\"red\\\":\\\"red\\\"},\\\"sourceMap\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./findItem.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/JsonLeex/plus-component-h5/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./findItem.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/JsonLeex/plus-component-h5/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./findItem.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-567d5708\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./findItem.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/find/components/findItem.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}